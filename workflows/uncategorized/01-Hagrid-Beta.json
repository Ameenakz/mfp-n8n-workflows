{
  "updatedAt": "2025-10-28T13:18:56.285Z",
  "createdAt": "2025-10-07T09:59:17.161Z",
  "id": "eLq8pHbT2Ox5suyx",
  "name": "01-Hagrid-Beta",
  "description": null,
  "active": true,
  "isArchived": false,
  "nodes": [
    {
      "parameters": {
        "method": "POST",
        "url": "https://honest-ghoul-37248.upstash.io/rpop/myfurryprints_queue",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        1296,
        288
      ],
      "id": "3dd49032-291d-4079-bb57-1338453af1ae",
      "name": "PopJobAndProcess",
      "credentials": {
        "httpHeaderAuth": {
          "id": "OU4p8zTKeY9k8OYC",
          "name": "Upstash_new"
        }
      }
    },
    {
      "parameters": {
        "content": "WORKFLOW 1\n\n\nThis workflow handles incoming data from users and adds them to a queue in redis for processing. It makes sure that only one job is processed at a time by checking a processing lock in Redis (via Upstash). When ready, it pops a job from the queue, locks the processing, and triggers another workflow to handle the actual job. It helps manage jobs smoothly without overloading the system.",
        "height": 200,
        "width": 640
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        0,
        0
      ],
      "id": "672d52d3-171a-4ac9-9a93-eeebdd08538b",
      "name": "Sticky Note"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "012c1260-9c77-44aa-a153-2369b219ff9d",
              "leftValue": "={{ $('PopJobAndProcess').item.json.result }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "notEmpty",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        1504,
        288
      ],
      "id": "28b2a58c-4c4e-4c58-a62b-1150130114ff",
      "name": "Check if Job Exists"
    },
    {
      "parameters": {
        "inputSource": "passthrough"
      },
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "typeVersion": 1.1,
      "position": [
        992,
        288
      ],
      "id": "7e3953bd-d698-46fb-9540-1e4582697be8",
      "name": "Start Worker"
    },
    {
      "parameters": {
        "workflowId": {
          "__rl": true,
          "value": "zINV1YNg4sVxtHHx",
          "mode": "list",
          "cachedResultUrl": "/workflow/zINV1YNg4sVxtHHx",
          "cachedResultName": "02-Picasso-Beta"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {},
          "matchingColumns": [],
          "schema": [],
          "attemptToConvertTypes": false,
          "convertFieldsToString": true
        },
        "options": {
          "waitForSubWorkflow": true
        }
      },
      "type": "n8n-nodes-base.executeWorkflow",
      "typeVersion": 1.2,
      "position": [
        1792,
        272
      ],
      "id": "99ad2c77-616b-447d-91ad-cb48407a91c1",
      "name": "Run Full Pipeline"
    }
  ],
  "connections": {
    "PopJobAndProcess": {
      "main": [
        [
          {
            "node": "Check if Job Exists",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check if Job Exists": {
      "main": [
        [
          {
            "node": "Run Full Pipeline",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Start Worker": {
      "main": [
        [
          {
            "node": "PopJobAndProcess",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1",
    "callerPolicy": "workflowsFromSameOwner",
    "availableInMCP": false,
    "errorWorkflow": "e3A2YjP2DNbrfl9C"
  },
  "staticData": null,
  "meta": null,
  "pinData": {},
  "versionId": "83613a8b-8d06-4238-a429-af2fe3e31c66",
  "activeVersionId": "83613a8b-8d06-4238-a429-af2fe3e31c66",
  "versionCounter": 3,
  "triggerCount": 0,
  "shared": [
    {
      "updatedAt": "2025-10-07T09:59:17.161Z",
      "createdAt": "2025-10-07T09:59:17.161Z",
      "role": "workflow:owner",
      "workflowId": "eLq8pHbT2Ox5suyx",
      "projectId": "lLSHos7ohHn7AjNm",
      "project": {
        "updatedAt": "2025-06-14T17:25:02.061Z",
        "createdAt": "2025-06-14T17:13:49.092Z",
        "id": "lLSHos7ohHn7AjNm",
        "name": "Muhasin Rashid <muhasin@gauger.in>",
        "type": "personal",
        "icon": null,
        "description": null,
        "projectRelations": [
          {
            "updatedAt": "2025-06-14T17:13:49.092Z",
            "createdAt": "2025-06-14T17:13:49.092Z",
            "userId": "f88f8c62-813a-499e-aaee-b5f4da43c5a7",
            "projectId": "lLSHos7ohHn7AjNm",
            "user": {
              "updatedAt": "2025-12-18T05:00:03.582Z",
              "createdAt": "2025-06-14T17:13:45.907Z",
              "id": "f88f8c62-813a-499e-aaee-b5f4da43c5a7",
              "email": "muhasin@gauger.in",
              "firstName": "Muhasin",
              "lastName": "Rashid",
              "personalizationAnswers": {
                "version": "v4",
                "personalization_survey_submitted_at": "2025-06-14T17:25:40.417Z",
                "personalization_survey_n8n_version": "1.97.1",
                "automationGoalDevops": [
                  "other"
                ],
                "automationGoalDevopsOther": "Product",
                "companyType": "ecommerce",
                "role": "engineering"
              },
              "settings": {
                "userActivated": true,
                "easyAIWorkflowOnboarded": true,
                "firstSuccessfulWorkflowId": "JsDBWbsoYaKBkGmW",
                "userActivatedAt": 1758182279933,
                "npsSurvey": {
                  "responded": true,
                  "lastShownAt": 1752395252283
                }
              },
              "disabled": false,
              "mfaEnabled": false,
              "lastActiveAt": "2025-12-18",
              "isPending": false
            }
          }
        ]
      }
    }
  ],
  "tags": [
    {
      "updatedAt": "2025-07-16T08:16:44.235Z",
      "createdAt": "2025-07-16T08:16:44.235Z",
      "id": "llHNDAkMynWsjGrL",
      "name": "stable"
    },
    {
      "updatedAt": "2025-07-23T05:50:47.125Z",
      "createdAt": "2025-07-23T05:50:47.125Z",
      "id": "35DLj8FhqJbXBz8P",
      "name": "printify"
    }
  ],
  "activeVersion": {
    "updatedAt": "2025-11-27T07:27:47.774Z",
    "createdAt": "2025-11-27T07:27:47.774Z",
    "versionId": "83613a8b-8d06-4238-a429-af2fe3e31c66",
    "workflowId": "eLq8pHbT2Ox5suyx",
    "nodes": [
      {
        "parameters": {
          "method": "POST",
          "url": "https://honest-ghoul-37248.upstash.io/rpop/myfurryprints_queue",
          "authentication": "genericCredentialType",
          "genericAuthType": "httpHeaderAuth",
          "options": {}
        },
        "type": "n8n-nodes-base.httpRequest",
        "typeVersion": 4.2,
        "position": [
          1296,
          288
        ],
        "id": "3dd49032-291d-4079-bb57-1338453af1ae",
        "name": "PopJobAndProcess",
        "credentials": {
          "httpHeaderAuth": {
            "id": "OU4p8zTKeY9k8OYC",
            "name": "Upstash_new"
          }
        }
      },
      {
        "parameters": {
          "content": "WORKFLOW 1\n\n\nThis workflow handles incoming data from users and adds them to a queue in redis for processing. It makes sure that only one job is processed at a time by checking a processing lock in Redis (via Upstash). When ready, it pops a job from the queue, locks the processing, and triggers another workflow to handle the actual job. It helps manage jobs smoothly without overloading the system.",
          "height": 200,
          "width": 640
        },
        "type": "n8n-nodes-base.stickyNote",
        "typeVersion": 1,
        "position": [
          0,
          0
        ],
        "id": "672d52d3-171a-4ac9-9a93-eeebdd08538b",
        "name": "Sticky Note"
      },
      {
        "parameters": {
          "conditions": {
            "options": {
              "caseSensitive": true,
              "leftValue": "",
              "typeValidation": "strict",
              "version": 2
            },
            "conditions": [
              {
                "id": "012c1260-9c77-44aa-a153-2369b219ff9d",
                "leftValue": "={{ $('PopJobAndProcess').item.json.result }}",
                "rightValue": "",
                "operator": {
                  "type": "string",
                  "operation": "notEmpty",
                  "singleValue": true
                }
              }
            ],
            "combinator": "and"
          },
          "options": {}
        },
        "type": "n8n-nodes-base.if",
        "typeVersion": 2.2,
        "position": [
          1504,
          288
        ],
        "id": "28b2a58c-4c4e-4c58-a62b-1150130114ff",
        "name": "Check if Job Exists"
      },
      {
        "parameters": {
          "inputSource": "passthrough"
        },
        "type": "n8n-nodes-base.executeWorkflowTrigger",
        "typeVersion": 1.1,
        "position": [
          992,
          288
        ],
        "id": "7e3953bd-d698-46fb-9540-1e4582697be8",
        "name": "Start Worker"
      },
      {
        "parameters": {
          "workflowId": {
            "__rl": true,
            "value": "zINV1YNg4sVxtHHx",
            "mode": "list",
            "cachedResultUrl": "/workflow/zINV1YNg4sVxtHHx",
            "cachedResultName": "02-Picasso-Beta"
          },
          "workflowInputs": {
            "mappingMode": "defineBelow",
            "value": {},
            "matchingColumns": [],
            "schema": [],
            "attemptToConvertTypes": false,
            "convertFieldsToString": true
          },
          "options": {
            "waitForSubWorkflow": true
          }
        },
        "type": "n8n-nodes-base.executeWorkflow",
        "typeVersion": 1.2,
        "position": [
          1792,
          272
        ],
        "id": "99ad2c77-616b-447d-91ad-cb48407a91c1",
        "name": "Run Full Pipeline"
      }
    ],
    "connections": {
      "PopJobAndProcess": {
        "main": [
          [
            {
              "node": "Check if Job Exists",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Check if Job Exists": {
        "main": [
          [
            {
              "node": "Run Full Pipeline",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Start Worker": {
        "main": [
          [
            {
              "node": "PopJobAndProcess",
              "type": "main",
              "index": 0
            }
          ]
        ]
      }
    },
    "authors": "system migration",
    "name": null,
    "description": null,
    "workflowPublishHistory": [
      {
        "createdAt": "2025-10-28T13:18:56.285Z",
        "id": 95,
        "workflowId": "eLq8pHbT2Ox5suyx",
        "versionId": "83613a8b-8d06-4238-a429-af2fe3e31c66",
        "event": "activated",
        "userId": null
      }
    ]
  }
}