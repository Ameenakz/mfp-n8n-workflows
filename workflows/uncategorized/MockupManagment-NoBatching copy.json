{
  "updatedAt": "2025-08-26T07:51:21.894Z",
  "createdAt": "2025-08-26T07:34:18.597Z",
  "id": "iccc2jy75anpcthr",
  "name": "MockupManagment-NoBatching copy",
  "description": null,
  "active": true,
  "isArchived": false,
  "nodes": [
    {
      "parameters": {
        "inputSource": "passthrough"
      },
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "typeVersion": 1.1,
      "position": [
        -4592,
        272
      ],
      "id": "74e2029f-5f10-403c-9902-1603b813d0bc",
      "name": "When Executed by Another Workflow"
    },
    {
      "parameters": {
        "jsCode": "// Loop over input items and add a new field called 'myNewField' to the JSON of each one\nfor (const item of $input.all()) {\n  item.json.myNewField = 1;\n}\n\nreturn $input.all();"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -3456,
        288
      ],
      "id": "aa41e99f-b257-4cf6-8b69-4a6893df2b4d",
      "name": "Extract Collection Data"
    },
    {
      "parameters": {
        "options": {
          "reset": false
        }
      },
      "type": "n8n-nodes-base.splitInBatches",
      "typeVersion": 3,
      "position": [
        -2672,
        288
      ],
      "id": "bb4ceb86-eeb1-47dc-96ca-94c4fee0bbda",
      "name": "Loop Product Templates"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.printify.com/v1/uploads/images.json",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"file_name\": \"{{ $json.petname }}_{{ $json.theme_name }}.jpg\",\n  \"url\": \"{{ $json.image_url }}\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -2336,
        112
      ],
      "id": "4a8d8524-a3c8-4956-ba7f-779734341e3a",
      "name": "Upload_Image_To_Printify",
      "retryOnFail": true,
      "waitBetweenTries": 5000,
      "credentials": {
        "httpHeaderAuth": {
          "id": "QyrLm1DfKVd2QbzS",
          "name": "Printify API Auth"
        }
      }
    },
    {
      "parameters": {
        "url": "=https://api.printify.com/v1/catalog/blueprints/{{ $json.blueprint_id }}/print_providers/{{ $json.print_provider_id }}/variants.json",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -2336,
        352
      ],
      "id": "81146d3c-4672-49c7-8782-01cd8beacb42",
      "name": "Get_Print_Provider_Variants",
      "retryOnFail": true,
      "waitBetweenTries": 5000,
      "credentials": {
        "httpBasicAuth": {
          "id": "ZwQuXy3mFoa7bh3H",
          "name": "cloudinaryFurryPrints"
        },
        "httpHeaderAuth": {
          "id": "QyrLm1DfKVd2QbzS",
          "name": "Printify API Auth"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// In \"Prepare_Printify_Product_Payload\" (ID: d98090aa-3355-4fc8-bc41-63373c3e29c7)\n\n// --- NEW: Read all variant data from the Google Sheet node ---\nconst sheetData = $('Get_Variant_Pricing_From_Sheet').all();\n\n// --- NEW: Create Maps for fast lookups. One for prices, one for descriptions ---\nconst variantPriceMap = new Map();\nconst blueprintDescriptionMap = new Map();\n\nfor (const item of sheetData) {\n  const { variant_id, price, blueprint_id, product_description } = item.json;\n  \n  // Map each variant_id to its price\n  if (variant_id && price !== undefined) {\n    variantPriceMap.set(String(variant_id), parseInt(price, 10));\n  }\n  \n  // Map each blueprint_id to a description. This avoids storing redundant descriptions.\n  // We only store the first valid description we find for a blueprint.\n  if (blueprint_id && product_description && !blueprintDescriptionMap.has(String(blueprint_id))) {\n    blueprintDescriptionMap.set(String(blueprint_id), product_description);\n  }\n}\nconsole.log(`Loaded ${variantPriceMap.size} prices and ${blueprintDescriptionMap.size} descriptions from the sheet.`);\n\n\n// 1. Get the original data from the start of the loop\nconst productInfo = $('Loop Product Templates').item.json;\n\n// 2. Get the result of the image upload\nconst uploadedImage = $('Upload_Image_To_Printify').item.json;\n\n// 3. Get the result of the variants API call\nconst providerVariantsResponse = $input.item.json;\n\n// --- Error Checking ---\nif (!productInfo || !productInfo.product_title) {\n  throw new Error(\"Could not find original product data from the loop.\");\n}\nif (!uploadedImage || !uploadedImage.id) {\n  throw new Error(\"Could not find a valid image ID from the upload step.\");\n}\nif (!providerVariantsResponse || !providerVariantsResponse.variants) {\n  throw new Error(\"Could not find a valid variants array from the API call.\");\n}\n\nconst placeholderPosition = providerVariantsResponse.variants?.[0]?.print_areas?.[0]?.placeholders?.[0]?.position || \"front\";\nconst requiredVariantIds = productInfo.required_variant_ids;\n\n// --- UPDATED LOGIC: Set price for each variant based on the Google Sheet ---\nconst variants = providerVariantsResponse.variants\n  .filter(variant => requiredVariantIds.includes(variant.id))\n  .map(variant => {\n    // Look up the price from our map\n    const priceFromSheet = variantPriceMap.get(String(variant.id));\n\n    if (priceFromSheet === undefined) {\n      console.warn(`‚ö†Ô∏è Price for variant ID ${variant.id} not found in Google Sheet. Using fallback price.`);\n    }\n\n    return {\n      id: variant.id,\n      price: priceFromSheet || 2999, // Use price from sheet or fallback to 2999\n      is_enabled: true\n    };\n  });\n\nif (variants.length === 0) {\n    throw new Error(`Could not find any matching variants for the provided IDs: ${requiredVariantIds.join(', ')}`);\n}\n\nconst all_variant_ids = variants.map(v => v.id);\n\n// --- UPDATED DESCRIPTION HANDLING ---\nlet description = blueprintDescriptionMap.get(String(productInfo.blueprint_id));\nif (!description) {\n  console.warn(`‚ö†Ô∏è Description for blueprint ID ${productInfo.blueprint_id} not found. Using generic fallback.`);\n  description = `<p>Custom ${productInfo.theme_name} artwork featuring ${productInfo.petname}.</p>`;\n}\n\n// 1. Replace placeholders like {{petname}}\nlet processedDescription = description\n  .replace(/{{petname}}/g, productInfo.petname)\n  .replace(/{{theme_name}}/g, productInfo.theme_name);\n\n// 2. Convert paragraph and heading breaks to a unique placeholder\nprocessedDescription = processedDescription.replace(/<\\/p>|<\\/h[1-6]>/gi, '__BREAK__');\n\n// 3. Now, strip all remaining HTML tags and non-breaking spaces\nlet cleanText = processedDescription.replace(/<[^>]*>/g, '').replace(/&nbsp;/g, ' ').trim();\n\n// 4. Convert the placeholder to standard HTML line breaks for Shopify\nconst finalDescription = cleanText.replace(/(__BREAK__\\s*)+/g, '<br><br>');\n\n\n// --- HARD-CODED PLACEMENT SETTINGS (No change here) ---\nconst imagePlacementMap = {\n   //tshirt\n 12 : { x: 0.5,y: 0.5045,scale: 0.8,angle: 0},\n\n  //Color Accent Mug\n  635: { x: 0.20573430849374247,\n         y: 0.4950372661929266,\n       scale: 0.31111111111111106,\n      angle: 0},\n\n  //Tough phone case-iPhone\n  421: {x: 0.5533677600162773,\n          y: 0.5141509433962264,\n        scale: 1,\n        angle: 0},\n  \n//Tough phone case-Samsung\n  421: {x: 0.5533677600162773,\n          y: 0.5141509433962264,\n        scale: 1,\n        angle: 0},\n  \n\n  //framed poster \n  764 : { x : 0.5, y: 0.5, scale : 1, angle : 0}, \n\n  //canvas portrait\n  937 : {x: 0.5,\n        y: 0.5000067762626349,\n         scale: 0.9999999999999997,\n          angle: 0}\n  // Add more as needed\n};\nconst fallbackPlacement = { x: 0.5, y: 0.5, scale: 1, angle: 0 };\nconst placement = imagePlacementMap[productInfo.blueprint_id] || fallbackPlacement;\n\n// --- Payload Assembly ---\nconst payload = {\n  \"title\": productInfo.product_title,\n  \"description\": finalDescription, // Use the new clean description\n  \"blueprint_id\": productInfo.blueprint_id,\n  \"print_provider_id\": productInfo.print_provider_id,\n  \"variants\": variants,\n  \"print_areas\": [\n    {\n      \"variant_ids\": all_variant_ids,\n      \"placeholders\": [\n        {\n          \"position\": placeholderPosition,\n          \"images\": [\n            {\n              \"id\": uploadedImage.id,\n              \"x\": placement.x,\n              \"y\": placement.y,\n              \"scale\": placement.scale,\n              \"angle\": placement.angle\n            }\n          ]\n        }\n      ]\n    }\n  ],\n  \"tags\": [\n    $('When Executed by Another Workflow').first().json.email,\n    $('When Executed by Another Workflow').first().json.petGender,\n    $('When Executed by Another Workflow').first().json.petKind,\n    $('When Executed by Another Workflow').first().json.session_id,\n    $('When Executed by Another Workflow').first().json.petname,\n    productInfo.theme_name\n  ]\n};\n\n// --- THIS IS THE FINAL, CORRECTED LOGIC ---\n// Add print_details object for the canvas product, as you discovered.\nif (productInfo.blueprint_id === 937) {\n  payload.print_details = {\n    \"print_on_side\": \"mirror\" // Use \"regular\" for print on sides\n  };\n  console.log(`‚úÖ Added print_details object for Canvas Portrait.`);\n}\n// Return the final data\nreturn {\n  json: {\n    ...productInfo,\n    printifyPayload: payload\n  }\n};"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -1840,
        368
      ],
      "id": "d965c509-9704-4eca-81c5-aa93756141f5",
      "name": "Prepare_Printify_Product_Payload"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=https://api.printify.com/v1/shops/21658609/products.json",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={{ $json.printifyPayload }}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -1552,
        368
      ],
      "id": "4cf62165-5011-40c4-a0e1-3e30f110de5b",
      "name": "Create_Printify_Product",
      "retryOnFail": true,
      "maxTries": 5,
      "waitBetweenTries": 5000,
      "credentials": {
        "httpHeaderAuth": {
          "id": "QyrLm1DfKVd2QbzS",
          "name": "Printify API Auth"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=https://api.printify.com/v1/shops/21658609/products/{{ $('Create_Printify_Product').item.json.id }}/publish.json",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"title\": true,\n  \"description\": true,\n  \"images\": false,\n  \"variants\": true,\n  \"tags\": true,\n  \"keyFeatures\": true,\n  \"shipping_template\": true\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -1088,
        368
      ],
      "id": "eeb4d91e-c199-4632-8773-f88493d1b645",
      "name": "Publish_Printify_Product",
      "retryOnFail": true,
      "waitBetweenTries": 5000,
      "alwaysOutputData": true,
      "credentials": {
        "httpHeaderAuth": {
          "id": "QyrLm1DfKVd2QbzS",
          "name": "Printify API Auth"
        }
      }
    },
    {
      "parameters": {
        "mode": "combine",
        "combineBy": "combineByPosition",
        "options": {}
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        -2080,
        368
      ],
      "id": "a1e9d44b-dc9e-42fb-9643-dc2db69cf02b",
      "name": "Merge"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "6f46f174-b276-433a-a2a8-d11be21fa51f",
              "name": "image_id",
              "value": "={{ $json.id }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -2080,
        112
      ],
      "id": "257d1ab6-a21e-443e-bc33-def1502fddd3",
      "name": "Set_Image_ID"
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "https://docs.google.com/spreadsheets/d/17p4GRGITaLN-qIUb3YrGOZTusbqpV_mJ_brRLqS0jWA/edit?gid=0#gid=0",
          "mode": "url"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "Output",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/17p4GRGITaLN-qIUb3YrGOZTusbqpV_mJ_brRLqS0jWA/edit#gid=0"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.6,
      "position": [
        -4272,
        80
      ],
      "id": "55f20c49-b2d4-4be4-ba41-455a9f91f069",
      "name": "Get_Variant_Pricing_From_Sheet",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "rsPEEcMmuFCh0fvw",
          "name": "Google Sheets account 2"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "ef95f814-d688-40a2-807b-65ee4b93962b",
              "name": "product_title_to_find",
              "value": "={{ $('Prepare_Printify_Product_Payload').item.json.printifyPayload.title }}",
              "type": "string"
            },
            {
              "id": "24b43e63-f731-4664-aa97-306bc09ceb41",
              "name": "session_id_tag",
              "value": "={{ $('When Executed by Another Workflow').first().json.session_id }}",
              "type": "string"
            },
            {
              "id": "2e2f8b66-3a65-4a2d-8e9b-7b924f814b82",
              "name": "curated_image_url",
              "value": "={{ $('Construct_Curated_Mockups').item.json.curatedImageUrls }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -832,
        384
      ],
      "id": "f83ff389-3368-42f0-b25d-57d48b49e79d",
      "name": "Preserve_Product_Data"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://j4zewh-kg.myshopify.com/admin/api/2025-04/graphql.json",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"query\": \"query findProductByTitleAndTag($query: String!) {\\n  products(first: 1, query: $query) {\\n    edges {\\n      node {\\n        id\\n        title\\n        variants(first: 100) {\\n          edges {\\n            node {\\n              id\\n            }\\n          }\\n        }\\n      }\\n    }\\n  }\\n}\",\n  \"variables\": {\n    \"query\": \"title:'{{ $json.product_title_to_find }}' AND tag:'{{ $json.session_id_tag }}'\"\n  }\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -448,
        -80
      ],
      "id": "853a72bf-46bd-4b0f-b288-d4cf1d42cb03",
      "name": "Search_Shopify_Product_by_GraphQL",
      "credentials": {
        "httpHeaderAuth": {
          "id": "878XnnwYx10R4wXG",
          "name": "Shopify"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// This node takes the response from Printify product creation\n// and constructs a curated list of mockup URLs based on a powerful configuration map.\n\n// --- 1. CONFIGURATION: The Mockup Map ---\n// This is the \"brain\" of the operation. Add new product types here.\nconst mockupMap = {\n  // Key: blueprint_id (from your 'Map_Printify_Products' node)\n  12: { // Premium Cotton Unisex T-shirt\n    generatePerVariant: false, // Use one set of mockups for all variants\n    template_name: 'template-premium-cotton-unisex-t-shirt',\n    mockups: [\n      { id: 92584, camera_label: 'lifestyle' },\n      { id: 102044, camera_label: 'front-2' },\n      { id: 102050, camera_label: 'size-chart' }\n    ]\n  },\n  937: { // Canvas Portrait\n    generatePerVariant: true, // Generate mockups for EACH variant\n    template_name: 'template-canvas-portrait',\n    mockups: [\n      { id: 78904, camera_label: 'side' },\n      { id: 78869, camera_label: 'front' },\n      { id: 108121, camera_label: 'context-1' }\n    ]\n  },\n  635: { // Color Accent Mug\n    generatePerVariant: true, // Generate mockups for EACH variant\n    template_name: 'template-color-accent-mug',\n    mockups: [\n      { id: 102754, camera_label: 'right' },\n      { id: 102762, camera_label: 'context-2' }\n    ]\n  },\n  764: { // Premium Framed Poster - NEWLY ADDED\n    generatePerVariant: true, // Generate mockups for EACH variant (size)\n    template_name: 'template-premium-framed-poster',\n    mockups: [\n      { id: 89536, camera_label: 'front' },\n      { id: 89602, camera_label: 'context-1' }\n    ]\n  }\n  // Add other blueprints here...\n};\n\n// --- 2. LOGIC (No need to edit below here) ---\n\nconst createdProduct = $input.item.json;\n// Get the blueprint_id from the data that started this loop\nconst blueprintId = $('Prepare_Printify_Product_Payload').item.json.blueprint_id;\n\nconst config = mockupMap[blueprintId];\nif (!config) {\n  console.warn(`‚ö†Ô∏è No mockup configuration found for blueprint_id: ${blueprintId}. No curated mockups will be generated.`);\n  return [{ json: { ...createdProduct, curatedImageUrls: [] } }];\n}\n\nconst newProductId = createdProduct.id;\nconst curatedImageUrls = [];\n\nif (config.generatePerVariant) {\n  // Logic for products like mugs and canvases\n  console.log(`üöÄ Generating mockups for each variant for Blueprint ID: ${blueprintId}`);\n  for (const variant of createdProduct.variants) {\n    for (const mockup of config.mockups) {\n      const imageUrl = `https://images.printify.com/mockup/${newProductId}/${variant.id}/${mockup.id}/${config.template_name}.jpg?camera_label=${mockup.camera_label}`;\n      curatedImageUrls.push(imageUrl);\n      console.log(`‚úÖ Constructed URL for variant ${variant.id}: ${imageUrl}`);\n    }\n  }\n} else {\n  // Original logic for products like T-shirts\n  console.log(`üöÄ Generating one set of mockups for Blueprint ID: ${blueprintId}`);\n  const defaultVariant = createdProduct.variants.find(v => v.is_default);\n  if (!defaultVariant) {\n    throw new Error(`Could not find a default variant for product ${newProductId}`);\n  }\n  const referenceVariantId = defaultVariant.id;\n  for (const mockup of config.mockups) {\n    const imageUrl = `https://images.printify.com/mockup/${newProductId}/${referenceVariantId}/${mockup.id}/${config.template_name}.jpg?camera_label=${mockup.camera_label}`;\n    curatedImageUrls.push(imageUrl);\n    console.log(`‚úÖ Constructed URL: ${imageUrl}`);\n  }\n}\n\n// Pass along the original data, but add our new array of all curated mockup URLs\nreturn [{\n  json: {\n    ...createdProduct,\n    curatedImageUrls: curatedImageUrls\n  }\n}];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -1328,
        368
      ],
      "id": "9e4ca801-e268-4f4e-9493-ac23f01624ca",
      "name": "Construct_Curated_Mockups"
    },
    {
      "parameters": {
        "mode": "combine",
        "combineBy": "combineByPosition",
        "options": {}
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        352,
        336
      ],
      "id": "39d2a5b0-42ce-4137-bf76-7e1b3c912d82",
      "name": "Merge1"
    },
    {
      "parameters": {
        "amount": 30
      },
      "type": "n8n-nodes-base.wait",
      "typeVersion": 1.1,
      "position": [
        -624,
        384
      ],
      "id": "9e106fe9-daa9-468b-ba11-b3a8007cb945",
      "name": "Wait",
      "webhookId": "8b58650a-9ed7-4da6-b7b1-d9fd7a49a9c5"
    },
    {
      "parameters": {
        "authentication": "headerAuth",
        "endpoint": "https://j4zewh-kg.myshopify.com/admin/api/2025-04/graphql.json",
        "query": "query findProductByTitleAndTag($query: String!) {\n  products(first: 1, query: $query) {\n    edges {\n      node {\n        id\n        title\n        variants(first: 100) {\n          edges {\n            node {\n              id\n              sku # <-- ADD THIS LINE\n            }\n          }\n        }\n      }\n    }\n  }\n}",
        "variables": "={\n  \"query\": \"title:'{{ $('Preserve_Product_Data').item.json.product_title_to_find }}' AND tag:'{{ $('Preserve_Product_Data').item.json.session_id_tag }}'\"\n}"
      },
      "type": "n8n-nodes-base.graphql",
      "typeVersion": 1.1,
      "position": [
        -208,
        192
      ],
      "id": "0707254c-b580-4d14-879a-82949ca2b9e0",
      "name": "Search Shopify Product (GraphQL)",
      "credentials": {
        "httpHeaderAuth": {
          "id": "878XnnwYx10R4wXG",
          "name": "Shopify"
        }
      }
    },
    {
      "parameters": {
        "authentication": "headerAuth",
        "endpoint": "https://j4zewh-kg.myshopify.com/admin/api/2025-04/graphql.json",
        "query": "mutation productUpdate($product: ProductUpdateInput!, $media: [CreateMediaInput!]) {\n  productUpdate(product: $product, media: $media) {\n    product {\n      id\n      media(first: 25) {\n        edges {\n          node {\n            ... on MediaImage {\n              id\n              image {\n                # --- THIS IS THE CORRECTED FIELD NAME ---\n                url\n              }\n            }\n          }\n        }\n      }\n    }\n    userErrors {\n      field\n      message\n    }\n  }\n}",
        "variables": "={{$json}}"
      },
      "type": "n8n-nodes-base.graphql",
      "typeVersion": 1.1,
      "position": [
        896,
        336
      ],
      "id": "00330710-3653-4aef-9b20-91843dcabb74",
      "name": "Upload All Media to Product",
      "credentials": {
        "httpHeaderAuth": {
          "id": "878XnnwYx10R4wXG",
          "name": "Shopify"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// Enhanced \"Prepare Variant Assignments\" for proper variant-image matching\n\nconst printifyProduct = $('Create_Printify_Product').item.json;\nconst shopifyProduct = $('Search Shopify Product (GraphQL)').item.json.data.products.edges[0]?.node;\nconst uploadResult = $input.item.json.data?.productUpdate?.product;\nconst optimizedImageUrls = $('Prepare Media Upload Variables').item.json._optimizedUrls;\nconst blueprintId = $('Prepare_Printify_Product_Payload').item.json.blueprint_id;\n\n// Create Shopify variant map\nconst shopifyVariantMap = new Map();\nshopifyProduct.variants.edges.forEach(edge => {\n  if (edge.node?.sku) {\n    shopifyVariantMap.set(edge.node.sku, edge.node.id);\n  }\n});\n\n// Create media map (uploaded images)\nconst shopifyMediaMap = new Map();\nconst uploadedMediaEdges = uploadResult.media.edges;\n\nfor (let i = 0; i < Math.min(optimizedImageUrls.length, uploadedMediaEdges.length); i++) {\n  shopifyMediaMap.set(optimizedImageUrls[i], uploadedMediaEdges[i].node.id);\n}\n\n// Enhanced variant assignment\nconst variantsUpdatePayload = [];\nconst variantSpecificProducts = [937, 635, 764];\n\nfor (const printifyVariant of printifyProduct.variants) {\n  const shopifyVariantId = shopifyVariantMap.get(printifyVariant.sku);\n  \n  if (shopifyVariantId) {\n    let assignedImages = [];\n    \n    if (variantSpecificProducts.includes(blueprintId)) {\n      // For variant-specific products, find ALL images for this variant\n      const variantImages = optimizedImageUrls.filter(url => {\n        const urlParts = url.split('/');\n        const mockupIndex = urlParts.findIndex(part => part === 'mockup');\n        const variantId = mockupIndex !== -1 ? urlParts[mockupIndex + 2] : null;\n        return variantId === String(printifyVariant.id) && shopifyMediaMap.has(url);\n      });\n      \n      if (variantImages.length > 0) {\n        // Use the primary (first priority) image for this variant\n        assignedImages = [variantImages[0]];\n        console.log(`‚úÖ Assigned variant ${printifyVariant.id}: ${variantImages.length} images available, using primary`);\n      }\n    }\n    \n    // Fallback to first available image if no variant-specific image found\n    if (assignedImages.length === 0) {\n      const fallbackImage = optimizedImageUrls.find(url => shopifyMediaMap.has(url));\n      if (fallbackImage) {\n        assignedImages = [fallbackImage];\n        console.log(`‚ö†Ô∏è Using fallback image for variant ${printifyVariant.id}`);\n      }\n    }\n    \n    // Add to payload\n    for (const imageUrl of assignedImages) {\n      const shopifyMediaId = shopifyMediaMap.get(imageUrl);\n      if (shopifyMediaId) {\n        variantsUpdatePayload.push({\n          id: shopifyVariantId,\n          mediaId: shopifyMediaId\n        });\n      }\n    }\n  }\n}\n\nconsole.log(`üìä Variant Assignment Results:`);\nconsole.log(`   Total variants processed: ${printifyProduct.variants.length}`);\nconsole.log(`   Successful assignments: ${variantsUpdatePayload.length}`);\n\nreturn {\n  json: {\n    productId: shopifyProduct.id,\n    variants: variantsUpdatePayload\n  }\n};"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1408,
        320
      ],
      "id": "43b1867c-bb0c-46bc-beaa-999d6c361e8e",
      "name": "Prepare Variant Assignments"
    },
    {
      "parameters": {
        "authentication": "headerAuth",
        "endpoint": "https://j4zewh-kg.myshopify.com/admin/api/2025-04/graphql.json",
        "query": "mutation productVariantsBulkUpdate($productId: ID!, $variants: [ProductVariantsBulkInput!]!) {\n  productVariantsBulkUpdate(productId: $productId, variants: $variants) {\n    product {\n      id\n    }\n    productVariants {\n      id\n      title\n      image {\n        id\n        url\n      }\n    }\n    userErrors {\n      field\n      message\n    }\n  }\n}",
        "variables": "={{$json}}"
      },
      "type": "n8n-nodes-base.graphql",
      "typeVersion": 1.1,
      "position": [
        1648,
        320
      ],
      "id": "45fc19de-5863-4499-9ede-2ebf09a68290",
      "name": "Assign Images to Variants",
      "credentials": {
        "httpHeaderAuth": {
          "id": "878XnnwYx10R4wXG",
          "name": "Shopify"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// Replace the \"Prepare Media Upload Variables\" node with this FIXED version\n\nconst inputData = $input.item.json;\nconst shopifyProductNode = inputData.data.products.edges[0]?.node;\n\nif (!shopifyProductNode || !shopifyProductNode.id) {\n  const productTitle = $('Preserve_Product_Data').item.json.product_title_to_find;\n  throw new Error(`Could not find the Shopify Product with title \"${productTitle}\" after waiting.`);\n}\n\nconst shopifyProductId = shopifyProductNode.id;\nconst allCuratedImageUrls = JSON.parse(inputData.curated_image_url);\nconst blueprintId = $('Prepare_Printify_Product_Payload').item.json.blueprint_id;\n\n// --- FIXED SMART DEDUPLICATION LOGIC ---\nfunction deduplicateImageUrls(urls, blueprintId) {\n  console.log(`üîç Processing ${urls.length} URLs for blueprint ${blueprintId}`);\n  \n  // Group products by their variant requirements\n  const variantSpecificProducts = [937, 635, 764]; // Canvas, Mug, Poster\n  const generalProducts = [12]; // T-shirt\n  \n  if (variantSpecificProducts.includes(blueprintId)) {\n    return processVariantSpecificProduct(urls, blueprintId);\n  } else {\n    return processGeneralProduct(urls, blueprintId);\n  }\n}\n\nfunction processVariantSpecificProduct(urls, blueprintId) {\n  const processedUrls = [];\n  const seenCombinations = new Set();\n  \n  // For variant-specific products, we need ALL variant-mockup combinations\n  for (const url of urls) {\n    const urlAnalysis = analyzeUrl(url);\n    \n    if (urlAnalysis.isValid) {\n      const combinationKey = `${urlAnalysis.variantId}-${urlAnalysis.mockupId}`;\n      \n      // Keep EVERY unique variant-mockup combination\n      if (!seenCombinations.has(combinationKey)) {\n        seenCombinations.add(combinationKey);\n        processedUrls.push({\n          url,\n          variantId: urlAnalysis.variantId,\n          mockupId: urlAnalysis.mockupId,\n          priority: getMockupPriority(urlAnalysis.mockupId, blueprintId),\n          type: 'variant-specific'\n        });\n        \n        console.log(`‚úÖ Added variant ${urlAnalysis.variantId} mockup ${urlAnalysis.mockupId}`);\n      } else {\n        console.log(`‚ö†Ô∏è Skipping duplicate: variant ${urlAnalysis.variantId} mockup ${urlAnalysis.mockupId}`);\n      }\n    } else {\n      console.warn(`‚ùå Invalid URL structure: ${url}`);\n    }\n  }\n  \n  // Sort by variant first, then by mockup priority\n  const sortedUrls = processedUrls.sort((a, b) => {\n    if (a.variantId !== b.variantId) {\n      return parseInt(a.variantId) - parseInt(b.variantId);\n    }\n    return a.priority - b.priority;\n  });\n  \n  console.log(`üìä Variant-specific product results:`);\n  console.log(`   Total combinations found: ${processedUrls.length}`);\n  console.log(`   Expected combinations: ${getExpectedCombinations(blueprintId)}`);\n  \n  return sortedUrls.map(item => item.url);\n}\n\nfunction processGeneralProduct(urls, blueprintId) {\n  const processedUrls = [];\n  const seenMockups = new Set();\n  \n  // For general products (T-shirts), we only need unique mockup types\n  for (const url of urls) {\n    const urlAnalysis = analyzeUrl(url);\n    \n    if (urlAnalysis.isValid) {\n      if (!seenMockups.has(urlAnalysis.mockupId)) {\n        seenMockups.add(urlAnalysis.mockupId);\n        processedUrls.push({\n          url,\n          mockupId: urlAnalysis.mockupId,\n          priority: getMockupPriority(urlAnalysis.mockupId, blueprintId),\n          type: 'general'\n        });\n        \n        console.log(`‚úÖ Added general mockup ${urlAnalysis.mockupId}`);\n      }\n    }\n  }\n  \n  // Sort by priority and limit\n  const sortedUrls = processedUrls\n    .sort((a, b) => a.priority - b.priority)\n    .slice(0, 3); // Max 3 for T-shirts\n  \n  console.log(`üìä General product results: ${sortedUrls.length} mockups`);\n  \n  return sortedUrls.map(item => item.url);\n}\n\nfunction analyzeUrl(url) {\n  try {\n    const urlParts = url.split('/');\n    const mockupIndex = urlParts.findIndex(part => part === 'mockup');\n    \n    if (mockupIndex === -1 || mockupIndex + 3 >= urlParts.length) {\n      return { isValid: false };\n    }\n    \n    const variantId = urlParts[mockupIndex + 2];\n    const mockupId = urlParts[mockupIndex + 3];\n    \n    return {\n      isValid: true,\n      variantId,\n      mockupId\n    };\n  } catch (error) {\n    console.error(`Error analyzing URL: ${url}`, error);\n    return { isValid: false };\n  }\n}\n\nfunction getMockupPriority(mockupId, blueprintId) {\n  const priorities = {\n    // T-shirt priorities\n    '102044': 1, // front-2 (main)\n    '92584': 2,  // lifestyle\n    '102050': 3, // size-chart\n    \n    // Canvas priorities\n    '78869': 1,  // front (main)\n    '78904': 2,  // side\n    '108121': 3, // context-1\n    \n    // Mug priorities\n    '102754': 1, // right (main)\n    '102762': 2, // context-2\n    \n    // Poster priorities\n    '89536': 1,  // front (main)\n    '89602': 2   // context-1\n  };\n  \n  return priorities[mockupId] || 999;\n}\n\nfunction getExpectedCombinations(blueprintId) {\n  const expectations = {\n    12: 3,   // T-shirt: 3 mockup types\n    937: 6,  // Canvas: 2 variants √ó 3 mockups = 6\n    635: 8,  // Mug: 4 variants √ó 2 mockups = 8\n    764: 6   // Poster: 3 variants √ó 2 mockups = 6\n  };\n  return expectations[blueprintId] || 0;\n}\n\n// Apply the fixed deduplication\nconst optimizedImageUrls = deduplicateImageUrls(allCuratedImageUrls, blueprintId);\n\nconsole.log(`üìä FINAL Image Optimization Results:`);\nconsole.log(`   Blueprint ID: ${blueprintId}`);\nconsole.log(`   Original URLs: ${allCuratedImageUrls.length}`);\nconsole.log(`   Optimized URLs: ${optimizedImageUrls.length}`);\nconsole.log(`   Expected URLs: ${getExpectedCombinations(blueprintId)}`);\n\nif (optimizedImageUrls.length < getExpectedCombinations(blueprintId)) {\n  console.warn(`‚ö†Ô∏è WARNING: Missing images! Expected ${getExpectedCombinations(blueprintId)}, got ${optimizedImageUrls.length}`);\n  console.warn(`   This may result in missing variant assignments`);\n}\n\n// Transform into GraphQL format\nconst mediaInput = optimizedImageUrls.map(url => ({\n  originalSource: url,\n  mediaContentType: 'IMAGE'\n}));\n\nreturn {\n  json: {\n    product: {\n      id: shopifyProductId\n    },\n    media: mediaInput,\n    _optimizedUrls: optimizedImageUrls,\n    _originalUrls: allCuratedImageUrls,\n    _expectedCount: getExpectedCombinations(blueprintId),\n    _actualCount: optimizedImageUrls.length\n  }\n};"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        640,
        336
      ],
      "id": "a857ee61-c69e-44a9-be1f-9275f26ccbd4",
      "name": "Prepare Media Upload Variables"
    },
    {
      "parameters": {
        "amount": 30
      },
      "type": "n8n-nodes-base.wait",
      "typeVersion": 1.1,
      "position": [
        1168,
        336
      ],
      "id": "e4eddad7-1c84-4fda-85ea-b6bbff0bad7a",
      "name": "Wait1",
      "webhookId": "0784b6e3-bc7b-45fb-aa79-f44222407eba"
    },
    {
      "parameters": {
        "jsCode": "// In \"Split_Product_Types\" (ID: d1bb84ef-a798-4c7b-8c15-64726de190ca)\nconst items = $input.all(); // Items from \"Merge Customer With Transformations\"\nconst outputItems = [];\n\n// Customer data (item without asset_id, usually from Extract Parameters via the merge)\nconst customerDataItem = items.find(item => item.json && item.json.email && !item.json.asset_id && !item.json.public_id);\n// Image items (items with asset_id/public_id from Transformation node via the merge)\nconst imageItems = items.filter(item => item.json && (item.json.asset_id || item.json.public_id));\n\nif (!customerDataItem) {\n  console.error(\"Split_Product_Types: Customer data not found. Ensure 'Merge Customer With Transformations' is correctly merging.\");\n  return [{ json: { error: \"Customer data item not found.\" } }];\n}\nconst customerData = customerDataItem.json;\n\nif (imageItems.length === 0) {\n  console.warn(\"Split_Product_Types: No image items found to process.\");\n}\n\nimageItems.forEach(item => {\n  const imageJson = item.json; // This is the rich data from the Transformation node\n\n  // promptIndex and theme_name should now be directly available in imageJson\n  const promptIndex = imageJson.promptIndex;\n  const actualThemeName = imageJson.theme_name;\n\n  if (promptIndex === undefined || !actualThemeName) {\n    console.error(`Split_Product_Types: Missing promptIndex or theme_name for image item. Public ID: ${imageJson.public_id}. Skipping.`);\n    return; // Skip this item\n  }\n\n  // Use petname from customerData (more reliable) or fallback to imageJson if it somehow has it\n  const petName = customerData.petname || imageJson.petname || \"Pet\";\n  const petKind = customerData.petkind || imageJson.petkind || \"Pet\";\n  const petGender = $input.first().json.petGender|| imageJson.petgender || \"Pet\";\n  const sessionId = customerData.session_id || imageJson.session_id || Date.now().toString().slice(-8);\n\n  const baseHandle = `${petName.toLowerCase().replace(/\\s+/g, '-')}-${actualThemeName.toLowerCase().replace(/[^a-z0-9-]+/g, '').replace(/\\s+/g, '-')}`;\n  const sessionSuffix = sessionId.slice(-8);\n  const uniqueHandle = `${baseHandle}-${sessionSuffix}`;\n\n  // Use spread operator to preserve original field order, then override specific fields\n  outputItems.push({\n    json: {\n      // Start with customer data\n      session_id: sessionId,\n      email: customerData.email || imageJson.email,\n      petname: petName,\n      petGender: petGender,\n      petKind: customerData.petKind || imageJson.petKind,\n      customer_name: customerData.customer_name || imageJson.customer_name,\n      \n      // Include all cloudinary data (preserves original order)\n      ...imageJson,\n      \n      // Override/ensure these specific fields are set correctly\n      promptIndex: promptIndex,\n      collection_name: `${petName} ${actualThemeName}`,\n      collection_handle: uniqueHandle,\n      theme_name: actualThemeName,\n      collection_image_url: imageJson.original_url // Use original URL for collection image\n    }\n  });\n});\n\nreturn outputItems;"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -4384,
        352
      ],
      "id": "653783cd-aa4c-4405-bd87-86ccb9f28a9e",
      "name": "Split_Product_Types1"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://j4zewh-kg.myshopify.com/admin/api/2025-04/custom_collections.json",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"custom_collection\": {\n    \"title\": \"{{ $json.collection_name }}\",\n    \"handle\": \"{{ $json.collection_handle }}\",\n    \"body_html\": \"<p>Custom {{ $json.theme_name }} artwork featuring {{ $json.petname }}. High-quality, frame-worthy art available on various products.</p><p>Created for {{ $json.customer_name }} ({{ $json.email }})</p>\",\n    \"published\": true,\n    \"image\": {\n      \"src\": \"{{ $json.transformations.watermark }}\",\n      \"alt\": \"{{ $json.petname }} {{ $json.theme_name }} Artwork\"\n    },\n    \"metafields\": [\n      {\n        \"namespace\": \"custom\",\n        \"key\": \"session_id\",\n        \"value\": \"{{ $json.session_id }}\",\n        \"type\": \"single_line_text_field\"\n      },\n      {\n        \"namespace\": \"custom\",\n        \"key\": \"customer_email\",\n        \"value\": \"{{ $json.email }}\",\n        \"type\": \"single_line_text_field\"\n      },\n      {\n        \"namespace\": \"custom\",\n        \"key\": \"prompt_index\",\n        \"value\": \"{{ $json.promptIndex }}\",\n        \"type\": \"number_integer\"\n      },\n      {\n        \"namespace\": \"custom\",\n        \"key\": \"pet_name\",\n        \"value\": \"{{ $json.petname }}\",\n        \"type\": \"single_line_text_field\"\n      },\n      {\n        \"namespace\": \"custom\",\n        \"key\": \"theme_name\",\n        \"value\": \"{{ $json.theme_name }}\",\n        \"type\": \"single_line_text_field\"\n      },\n     {\n          \"namespace\": \"custom\",\n          \"key\": \"pet_kind\",                       \n          \"value\": \"{{ $json.petKind }}\",\n          \"type\": \"single_line_text_field\"\n     },\n      {\n        \"namespace\": \"custom\",\n        \"key\": \"clothing_url\",\n        \"value\": \"{{ $json.clothing_url }}\",\n        \"type\": \"single_line_text_field\"\n      },\n      {\n        \"namespace\": \"custom\",\n        \"key\": \"other_url\",\n        \"value\": \"{{ $json.other_url }}\",\n        \"type\": \"single_line_text_field\"\n      }\n    ]\n  }\n}",
        "options": {
          "response": {
            "response": {
              "responseFormat": "json"
            }
          }
        }
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -4064,
        368
      ],
      "id": "5d39177c-4f1b-48a4-82b5-09af21e1594f",
      "name": "Create_shopify_collection",
      "retryOnFail": true,
      "maxTries": 3,
      "waitBetweenTries": 5000,
      "credentials": {
        "httpHeaderAuth": {
          "id": "878XnnwYx10R4wXG",
          "name": "Shopify"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "const items = $input.all();\nconst outputItems = [];\n\n// Define your Printify products\nconst printifyProducts = {\n  \"clothing\": [\n    { \n      blueprint_id: 12, \n      print_provider_id: 331, \n      name: \"Premium Cotton Unisex T-shirt\",\n      variant_id:[18539,18540,18541,18542,18543,18544],\n      product_type: \"clothing\"\n    }\n    //black variants 18099,18100,18101,18102,18103,18104,\n  ],\n  \"other\": [\n    { \n      blueprint_id: 635, \n      print_provider_id: 94, \n      name: \"Color Accent Mug\",\n      variant_id:[72180,72183,72184,105888],\n      product_type: \"other\"\n    },\n    // { \n    //   blueprint_id: 421, \n    //   print_provider_id: 23, \n    //   name: \"Tough Phone Case - iPhone, Samsung, Google\",\n    //   variant_id:[75383,75385,75387,75389,77841,77843,77845,79425,80152,80154,80156,96397,96399,96401,96403,96738,96740,96742,98738,102547,102549,102551,102553,105148,105150,105152,105154,105156,112191,112193,112195,112197,116386,116388,116390,117862,117864,117866],\n    //   product_type: \"other\"\n    // },\n    // { \n    //   blueprint_id: 421, \n    //   print_provider_id: 23, \n    //   name: \"Tough Phone Case - iPhone\",\n    //   variant_id:[75383,75385,75387,75389,96397,96399,96401,96403,102547,102549,102551,102553,112191,112193,112195,112197],\n    //   product_type: \"other\"\n    // },\n    // { \n    //   blueprint_id: 421, \n    //   print_provider_id: 23, \n    //   name: \"Tough Phone Case - Samsung\",\n    //   variant_id:[77841,77843,77845,79425,80152,80154,80156,96738,96740,96742,105148,105150,105152,117862,117864,117866],\n    //   product_type: \"other\"\n    // },\n    { \n      blueprint_id: 764, \n      print_provider_id: 72, \n      name: \"Premium Framed Poster\",\n      variant_id:[75328,75330,75332],\n      product_type: \"other\"\n    },\n    { \n      blueprint_id: 937, \n      print_provider_id: 105, \n      name: \"Canvas Portrait\",\n      variant_id: [95213,95214], \n      product_type: \"other\"\n    }    \n  ]\n};\n\n// Get source data from Split_Product_Types node\nconst allSourceData = $('Split_Product_Types1').all();\n\n// Cloudinary config\nconst cloudName = 'myfurryprints';\nconst maskId = 'Mask3larger_jpm63l';\nconst CLOTHING_TX = `e_upscale/c_scale,w_4000/l_${maskId},w_4000,fl_cutter`;\nconst OTHER_TX = `e_upscale/c_scale,w_4000`;\n\n// Helper to build the Cloudinary URL based on product type\nfunction buildImageUrl(productType, publicId) {\n  const base = `https://res.cloudinary.com/${cloudName}/image/upload`;\n  return productType === 'clothing'\n    ? `${base}/${CLOTHING_TX}/${publicId}`\n    : `${base}/${OTHER_TX}/${publicId}`;\n}\n\n// Main loop\nitems.forEach(item => {\n  const collection = item.json.custom_collection;\n\n  const sourceDataItem = allSourceData.find(\n    sourceItem => sourceItem.json.collection_name === collection.title\n  );\n\n  if (!collection || !sourceDataItem) return; // skip if either is missing\n\n  const sourceData = sourceDataItem.json;\n  const publicId = sourceData.public_id;\n\n  // Combine clothing and other products into one loop\n  const allProducts = [...printifyProducts.clothing, ...printifyProducts.other];\n\n  allProducts.forEach(product => {\n    const imageUrl = buildImageUrl(product.product_type, publicId);\n\n    outputItems.push({\n      json: {\n        session_id:            sourceData.session_id,\n        email:                 sourceData.email,\n        petname:               sourceData.petname,\n        customer_name:         sourceData.customer_name,\n        promptIndex:           sourceData.promptIndex,\n        theme_name:            sourceData.theme_name,\n        shopify_collection_id: collection.id,\n\n        product_type:          product.product_type,\n        image_url:             imageUrl,\n        blueprint_id:          product.blueprint_id,\n        print_provider_id:     product.print_provider_id,\n        product_title:         `${sourceData.theme_name} - ${product.name}`,\n        template_name:         product.name,\n        required_variant_ids:  product.variant_id \n      }\n    });\n\n    console.log(`‚úÖ Created ${product.product_type} product with URL: ${imageUrl}`);\n  });\n});\n\nreturn outputItems;"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -3712,
        640
      ],
      "id": "dfe72781-43e9-4bcc-ac73-362443ef6bc6",
      "name": "Map_Printify_Products1"
    }
  ],
  "connections": {
    "When Executed by Another Workflow": {
      "main": [
        [
          {
            "node": "Get_Variant_Pricing_From_Sheet",
            "type": "main",
            "index": 0
          },
          {
            "node": "Split_Product_Types1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract Collection Data": {
      "main": [
        [
          {
            "node": "Loop Product Templates",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Loop Product Templates": {
      "main": [
        [],
        [
          {
            "node": "Upload_Image_To_Printify",
            "type": "main",
            "index": 0
          },
          {
            "node": "Get_Print_Provider_Variants",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Upload_Image_To_Printify": {
      "main": [
        [
          {
            "node": "Set_Image_ID",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get_Print_Provider_Variants": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Prepare_Printify_Product_Payload": {
      "main": [
        [
          {
            "node": "Create_Printify_Product",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Create_Printify_Product": {
      "main": [
        [
          {
            "node": "Construct_Curated_Mockups",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Publish_Printify_Product": {
      "main": [
        [
          {
            "node": "Preserve_Product_Data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge": {
      "main": [
        [
          {
            "node": "Prepare_Printify_Product_Payload",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Set_Image_ID": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Preserve_Product_Data": {
      "main": [
        [
          {
            "node": "Merge1",
            "type": "main",
            "index": 1
          },
          {
            "node": "Wait",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Construct_Curated_Mockups": {
      "main": [
        [
          {
            "node": "Publish_Printify_Product",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge1": {
      "main": [
        [
          {
            "node": "Prepare Media Upload Variables",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait": {
      "main": [
        [
          {
            "node": "Search Shopify Product (GraphQL)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Search Shopify Product (GraphQL)": {
      "main": [
        [
          {
            "node": "Merge1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Upload All Media to Product": {
      "main": [
        [
          {
            "node": "Wait1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Prepare Variant Assignments": {
      "main": [
        [
          {
            "node": "Assign Images to Variants",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Assign Images to Variants": {
      "main": [
        [
          {
            "node": "Loop Product Templates",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Prepare Media Upload Variables": {
      "main": [
        [
          {
            "node": "Upload All Media to Product",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait1": {
      "main": [
        [
          {
            "node": "Prepare Variant Assignments",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Split_Product_Types1": {
      "main": [
        [
          {
            "node": "Create_shopify_collection",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Create_shopify_collection": {
      "main": [
        [
          {
            "node": "Map_Printify_Products1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Map_Printify_Products1": {
      "main": [
        [
          {
            "node": "Extract Collection Data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "meta": null,
  "pinData": {
    "Split_Product_Types1": [
      {
        "json": {
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "petGender": "Female",
          "petKind": "Dog",
          "customer_name": "Daniel Suresh",
          "asset_id": "61f90a5f430cdfc0563b0f2ca8d33549",
          "public_id": "68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt1",
          "version": 1755602090,
          "version_id": "ab1c6c1c0a4159058faf1fc34f04fa57",
          "signature": "d5925948b55952ecd2e71526d336ffe93bd2e9ff",
          "width": 1024,
          "height": 1536,
          "format": "jpg",
          "resource_type": "image",
          "created_at": "2025-08-19T11:14:50Z",
          "tags": [],
          "bytes": 208757,
          "type": "upload",
          "etag": "48d85169c8bc8d81acc21f6a695b78d5",
          "placeholder": false,
          "url": "http://res.cloudinary.com/myfurryprints/image/upload/v1755602090/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt1.jpg",
          "secure_url": "https://res.cloudinary.com/myfurryprints/image/upload/v1755602090/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt1.jpg",
          "asset_folder": "68a45bf8c1246be67e051698",
          "display_name": "file",
          "existing": false,
          "original_filename": "file",
          "promptIndex": 1,
          "theme_name": "Spa Day Deluxe",
          "customFilename": "68a45bf8c1246be67e051698_prompt1",
          "original_url": "https://res.cloudinary.com/myfurryprints/image/upload/v1755602090/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt1.jpg",
          "collection_image_url": "https://res.cloudinary.com/myfurryprints/image/upload/v1755602090/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt1.jpg",
          "transformations": {
            "clothing": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/l_Mask3larger_jpm63l,w_4000,fl_cutter/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt1",
            "other": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt1",
            "watermark": "https://res.cloudinary.com/myfurryprints/image/upload/l_MFP-Watermark_k1usnu.png/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt1"
          },
          "clothing_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/l_Mask3larger_jpm63l,w_4000,fl_cutter/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt1",
          "other_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt1",
          "collection_name": "Shabee Spa Day Deluxe",
          "collection_handle": "shabee-spadaydeluxe-7e051698"
        }
      },
      {
        "json": {
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "petGender": "Female",
          "petKind": "Dog",
          "customer_name": "Daniel Suresh",
          "asset_id": "2cba3e32003922083eb2173c64ed9ee4",
          "public_id": "68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt2",
          "version": 1755602090,
          "version_id": "ab1c6c1c0a4159058faf1fc34f04fa57",
          "signature": "d9a3205424e413266dc145a0a00dc6076aa33e9f",
          "width": 1024,
          "height": 1536,
          "format": "jpg",
          "resource_type": "image",
          "created_at": "2025-08-19T11:14:50Z",
          "tags": [],
          "bytes": 167255,
          "type": "upload",
          "etag": "abf02f543bb5838d115c9e02ce0a8e99",
          "placeholder": false,
          "url": "http://res.cloudinary.com/myfurryprints/image/upload/v1755602090/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt2.jpg",
          "secure_url": "https://res.cloudinary.com/myfurryprints/image/upload/v1755602090/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt2.jpg",
          "asset_folder": "68a45bf8c1246be67e051698",
          "display_name": "file",
          "existing": false,
          "original_filename": "file",
          "promptIndex": 2,
          "theme_name": "Midnight Snack",
          "customFilename": "68a45bf8c1246be67e051698_prompt2",
          "original_url": "https://res.cloudinary.com/myfurryprints/image/upload/v1755602090/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt2.jpg",
          "collection_image_url": "https://res.cloudinary.com/myfurryprints/image/upload/v1755602090/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt2.jpg",
          "transformations": {
            "clothing": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/l_Mask3larger_jpm63l,w_4000,fl_cutter/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt2",
            "other": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt2",
            "watermark": "https://res.cloudinary.com/myfurryprints/image/upload/l_MFP-Watermark_k1usnu.png/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt2"
          },
          "clothing_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/l_Mask3larger_jpm63l,w_4000,fl_cutter/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt2",
          "other_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt2",
          "collection_name": "Shabee Midnight Snack",
          "collection_handle": "shabee-midnightsnack-7e051698"
        }
      },
      {
        "json": {
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "petGender": "Female",
          "petKind": "Dog",
          "customer_name": "Daniel Suresh",
          "asset_id": "0e3735d6d795853ecbe47093cada9a3b",
          "public_id": "68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt3",
          "version": 1755602090,
          "version_id": "ab1c6c1c0a4159058faf1fc34f04fa57",
          "signature": "0ae9582b00ccbcd6e7e25997b80a8bd26f3193b5",
          "width": 1024,
          "height": 1536,
          "format": "jpg",
          "resource_type": "image",
          "created_at": "2025-08-19T11:14:50Z",
          "tags": [],
          "bytes": 234247,
          "type": "upload",
          "etag": "a442f1e651709e44c0dc02e088e57f59",
          "placeholder": false,
          "url": "http://res.cloudinary.com/myfurryprints/image/upload/v1755602090/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt3.jpg",
          "secure_url": "https://res.cloudinary.com/myfurryprints/image/upload/v1755602090/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt3.jpg",
          "asset_folder": "68a45bf8c1246be67e051698",
          "display_name": "file",
          "existing": false,
          "original_filename": "file",
          "promptIndex": 3,
          "theme_name": "Victorian Portrait",
          "customFilename": "68a45bf8c1246be67e051698_prompt3",
          "original_url": "https://res.cloudinary.com/myfurryprints/image/upload/v1755602090/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt3.jpg",
          "collection_image_url": "https://res.cloudinary.com/myfurryprints/image/upload/v1755602090/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt3.jpg",
          "transformations": {
            "clothing": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/l_Mask3larger_jpm63l,w_4000,fl_cutter/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt3",
            "other": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt3",
            "watermark": "https://res.cloudinary.com/myfurryprints/image/upload/l_MFP-Watermark_k1usnu.png/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt3"
          },
          "clothing_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/l_Mask3larger_jpm63l,w_4000,fl_cutter/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt3",
          "other_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt3",
          "collection_name": "Shabee Victorian Portrait",
          "collection_handle": "shabee-victorianportrait-7e051698"
        }
      },
      {
        "json": {
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "petGender": "Female",
          "petKind": "Dog",
          "customer_name": "Daniel Suresh",
          "asset_id": "0bef6b426acc3604451b412b9db4c908",
          "public_id": "68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt4",
          "version": 1755602091,
          "version_id": "ec91bd34d4eedc052eff8abc468ee8ac",
          "signature": "81b9b98200a4cce4f6d2b1bfd960996bc4009de9",
          "width": 1024,
          "height": 1536,
          "format": "jpg",
          "resource_type": "image",
          "created_at": "2025-08-19T11:14:51Z",
          "tags": [],
          "bytes": 221132,
          "type": "upload",
          "etag": "b85aa754a9fce4861b672dbd98640ef8",
          "placeholder": false,
          "url": "http://res.cloudinary.com/myfurryprints/image/upload/v1755602091/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt4.jpg",
          "secure_url": "https://res.cloudinary.com/myfurryprints/image/upload/v1755602091/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt4.jpg",
          "asset_folder": "68a45bf8c1246be67e051698",
          "display_name": "file",
          "existing": false,
          "original_filename": "file",
          "promptIndex": 4,
          "theme_name": "Harry Petter",
          "customFilename": "68a45bf8c1246be67e051698_prompt4",
          "original_url": "https://res.cloudinary.com/myfurryprints/image/upload/v1755602091/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt4.jpg",
          "collection_image_url": "https://res.cloudinary.com/myfurryprints/image/upload/v1755602091/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt4.jpg",
          "transformations": {
            "clothing": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/l_Mask3larger_jpm63l,w_4000,fl_cutter/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt4",
            "other": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt4",
            "watermark": "https://res.cloudinary.com/myfurryprints/image/upload/l_MFP-Watermark_k1usnu.png/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt4"
          },
          "clothing_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/l_Mask3larger_jpm63l,w_4000,fl_cutter/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt4",
          "other_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt4",
          "collection_name": "Shabee Harry Petter",
          "collection_handle": "shabee-harrypetter-7e051698"
        }
      },
      {
        "json": {
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "petGender": "Female",
          "petKind": "Dog",
          "customer_name": "Daniel Suresh",
          "asset_id": "a17364c837547cb1a1599f228df0cab7",
          "public_id": "68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt5",
          "version": 1755602091,
          "version_id": "ec91bd34d4eedc052eff8abc468ee8ac",
          "signature": "56f39bdf64e7fa5d40a71ff425b341e822d03a8d",
          "width": 1024,
          "height": 1536,
          "format": "jpg",
          "resource_type": "image",
          "created_at": "2025-08-19T11:14:51Z",
          "tags": [],
          "bytes": 201593,
          "type": "upload",
          "etag": "40366d81484d08a16bf9d9cc49e97db5",
          "placeholder": false,
          "url": "http://res.cloudinary.com/myfurryprints/image/upload/v1755602091/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt5.jpg",
          "secure_url": "https://res.cloudinary.com/myfurryprints/image/upload/v1755602091/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt5.jpg",
          "asset_folder": "68a45bf8c1246be67e051698",
          "display_name": "file",
          "existing": false,
          "original_filename": "file",
          "promptIndex": 5,
          "theme_name": "Corporate Pet",
          "customFilename": "68a45bf8c1246be67e051698_prompt5",
          "original_url": "https://res.cloudinary.com/myfurryprints/image/upload/v1755602091/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt5.jpg",
          "collection_image_url": "https://res.cloudinary.com/myfurryprints/image/upload/v1755602091/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt5.jpg",
          "transformations": {
            "clothing": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/l_Mask3larger_jpm63l,w_4000,fl_cutter/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt5",
            "other": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt5",
            "watermark": "https://res.cloudinary.com/myfurryprints/image/upload/l_MFP-Watermark_k1usnu.png/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt5"
          },
          "clothing_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/l_Mask3larger_jpm63l,w_4000,fl_cutter/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt5",
          "other_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt5",
          "collection_name": "Shabee Corporate Pet",
          "collection_handle": "shabee-corporatepet-7e051698"
        }
      },
      {
        "json": {
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "petGender": "Female",
          "petKind": "Dog",
          "customer_name": "Daniel Suresh",
          "asset_id": "4fae1a8d92aa998627d3ef660b75b318",
          "public_id": "68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt6",
          "version": 1755602091,
          "version_id": "ec91bd34d4eedc052eff8abc468ee8ac",
          "signature": "f9682eb6a6b48f78f5740aa5eb44c71334d700ae",
          "width": 1024,
          "height": 1536,
          "format": "jpg",
          "resource_type": "image",
          "created_at": "2025-08-19T11:14:51Z",
          "tags": [],
          "bytes": 203067,
          "type": "upload",
          "etag": "6883f97fbfbf4f5af5d4d5cb8bb6a463",
          "placeholder": false,
          "url": "http://res.cloudinary.com/myfurryprints/image/upload/v1755602091/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt6.jpg",
          "secure_url": "https://res.cloudinary.com/myfurryprints/image/upload/v1755602091/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt6.jpg",
          "asset_folder": "68a45bf8c1246be67e051698",
          "display_name": "file",
          "existing": false,
          "original_filename": "file",
          "promptIndex": 6,
          "theme_name": "Home Yoga",
          "customFilename": "68a45bf8c1246be67e051698_prompt6",
          "original_url": "https://res.cloudinary.com/myfurryprints/image/upload/v1755602091/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt6.jpg",
          "collection_image_url": "https://res.cloudinary.com/myfurryprints/image/upload/v1755602091/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt6.jpg",
          "transformations": {
            "clothing": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/l_Mask3larger_jpm63l,w_4000,fl_cutter/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt6",
            "other": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt6",
            "watermark": "https://res.cloudinary.com/myfurryprints/image/upload/l_MFP-Watermark_k1usnu.png/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt6"
          },
          "clothing_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/l_Mask3larger_jpm63l,w_4000,fl_cutter/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt6",
          "other_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt6",
          "collection_name": "Shabee Home Yoga",
          "collection_handle": "shabee-homeyoga-7e051698"
        }
      },
      {
        "json": {
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "petGender": "Female",
          "petKind": "Dog",
          "customer_name": "Daniel Suresh",
          "asset_id": "1b03b3eee1d29ba6f1ac9a8edfee6a60",
          "public_id": "68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt7",
          "version": 1755602091,
          "version_id": "ec91bd34d4eedc052eff8abc468ee8ac",
          "signature": "09b90ddd3f44c6a5746b3c0df34fee245c74ca1f",
          "width": 1024,
          "height": 1536,
          "format": "jpg",
          "resource_type": "image",
          "created_at": "2025-08-19T11:14:51Z",
          "tags": [],
          "bytes": 213842,
          "type": "upload",
          "etag": "255f0f341c88cce2ba25c8143dcdd4c0",
          "placeholder": false,
          "url": "http://res.cloudinary.com/myfurryprints/image/upload/v1755602091/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt7.jpg",
          "secure_url": "https://res.cloudinary.com/myfurryprints/image/upload/v1755602091/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt7.jpg",
          "asset_folder": "68a45bf8c1246be67e051698",
          "display_name": "file",
          "existing": false,
          "original_filename": "file",
          "promptIndex": 7,
          "theme_name": "Morning Coffee",
          "customFilename": "68a45bf8c1246be67e051698_prompt7",
          "original_url": "https://res.cloudinary.com/myfurryprints/image/upload/v1755602091/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt7.jpg",
          "collection_image_url": "https://res.cloudinary.com/myfurryprints/image/upload/v1755602091/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt7.jpg",
          "transformations": {
            "clothing": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/l_Mask3larger_jpm63l,w_4000,fl_cutter/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt7",
            "other": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt7",
            "watermark": "https://res.cloudinary.com/myfurryprints/image/upload/l_MFP-Watermark_k1usnu.png/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt7"
          },
          "clothing_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/l_Mask3larger_jpm63l,w_4000,fl_cutter/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt7",
          "other_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt7",
          "collection_name": "Shabee Morning Coffee",
          "collection_handle": "shabee-morningcoffee-7e051698"
        }
      },
      {
        "json": {
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "petGender": "Female",
          "petKind": "Dog",
          "customer_name": "Daniel Suresh",
          "asset_id": "fde3b2c36fc1999ad2f1ac3fc6ae122c",
          "public_id": "68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt8",
          "version": 1755602091,
          "version_id": "ec91bd34d4eedc052eff8abc468ee8ac",
          "signature": "3663fa9304a432ca642ce4a8767e012d532eff21",
          "width": 1024,
          "height": 1536,
          "format": "jpg",
          "resource_type": "image",
          "created_at": "2025-08-19T11:14:51Z",
          "tags": [],
          "bytes": 441545,
          "type": "upload",
          "etag": "56b31c926fed5e7670c25c1487f808b6",
          "placeholder": false,
          "url": "http://res.cloudinary.com/myfurryprints/image/upload/v1755602091/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt8.jpg",
          "secure_url": "https://res.cloudinary.com/myfurryprints/image/upload/v1755602091/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt8.jpg",
          "asset_folder": "68a45bf8c1246be67e051698",
          "display_name": "file",
          "existing": false,
          "original_filename": "file",
          "promptIndex": 8,
          "theme_name": "Anime Style",
          "customFilename": "68a45bf8c1246be67e051698_prompt8",
          "original_url": "https://res.cloudinary.com/myfurryprints/image/upload/v1755602091/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt8.jpg",
          "collection_image_url": "https://res.cloudinary.com/myfurryprints/image/upload/v1755602091/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt8.jpg",
          "transformations": {
            "clothing": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/l_Mask3larger_jpm63l,w_4000,fl_cutter/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt8",
            "other": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt8",
            "watermark": "https://res.cloudinary.com/myfurryprints/image/upload/l_MFP-Watermark_k1usnu.png/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt8"
          },
          "clothing_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/l_Mask3larger_jpm63l,w_4000,fl_cutter/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt8",
          "other_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt8",
          "collection_name": "Shabee Anime Style",
          "collection_handle": "shabee-animestyle-7e051698"
        }
      },
      {
        "json": {
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "petGender": "Female",
          "petKind": "Dog",
          "customer_name": "Daniel Suresh",
          "asset_id": "ae5eeffc45cca2e7dde494297eec0aa0",
          "public_id": "68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt9",
          "version": 1755602091,
          "version_id": "ec91bd34d4eedc052eff8abc468ee8ac",
          "signature": "935b0a5fc2ae9423d5ecf18fdac61b9e3a70db75",
          "width": 1024,
          "height": 1536,
          "format": "jpg",
          "resource_type": "image",
          "created_at": "2025-08-19T11:14:51Z",
          "tags": [],
          "bytes": 304674,
          "type": "upload",
          "etag": "103728a618bcdbff52d32ca96e4ff394",
          "placeholder": false,
          "url": "http://res.cloudinary.com/myfurryprints/image/upload/v1755602091/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt9.jpg",
          "secure_url": "https://res.cloudinary.com/myfurryprints/image/upload/v1755602091/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt9.jpg",
          "asset_folder": "68a45bf8c1246be67e051698",
          "display_name": "file",
          "existing": false,
          "original_filename": "file",
          "promptIndex": 9,
          "theme_name": "Shopping Spree",
          "customFilename": "68a45bf8c1246be67e051698_prompt9",
          "original_url": "https://res.cloudinary.com/myfurryprints/image/upload/v1755602091/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt9.jpg",
          "collection_image_url": "https://res.cloudinary.com/myfurryprints/image/upload/v1755602091/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt9.jpg",
          "transformations": {
            "clothing": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/l_Mask3larger_jpm63l,w_4000,fl_cutter/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt9",
            "other": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt9",
            "watermark": "https://res.cloudinary.com/myfurryprints/image/upload/l_MFP-Watermark_k1usnu.png/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt9"
          },
          "clothing_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/l_Mask3larger_jpm63l,w_4000,fl_cutter/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt9",
          "other_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt9",
          "collection_name": "Shabee Shopping Spree",
          "collection_handle": "shabee-shoppingspree-7e051698"
        }
      }
    ],
    "Create_shopify_collection": [
      {
        "json": {
          "custom_collection": {
            "id": 686246068564,
            "handle": "shabee-spadaydeluxe-7e051698",
            "title": "Shabee Spa Day Deluxe",
            "updated_at": "2025-08-19T12:14:57+01:00",
            "body_html": "<p>Custom Spa Day Deluxe artwork featuring Shabee. High-quality, frame-worthy art available on various products.</p><p>Created for Daniel Suresh (danielsureshkm@gmail.com)</p>",
            "published_at": "2025-08-19T12:14:54+01:00",
            "sort_order": "best-selling",
            "template_suffix": null,
            "published_scope": "web",
            "admin_graphql_api_id": "gid://shopify/Collection/686246068564",
            "image": {
              "created_at": "2025-08-19T12:14:56+01:00",
              "alt": "Shabee Spa Day Deluxe Artwork",
              "width": 1024,
              "height": 1536,
              "src": "https://cdn.shopify.com/s/files/1/0961/0831/4964/collections/68a45bf8c1246be67e051698_prompt1.jpg?v=1755602097"
            }
          }
        }
      },
      {
        "json": {
          "custom_collection": {
            "id": 686245839188,
            "handle": "shabee-midnightsnack-7e051698",
            "title": "Shabee Midnight Snack",
            "updated_at": "2025-08-19T12:14:56+01:00",
            "body_html": "<p>Custom Midnight Snack artwork featuring Shabee. High-quality, frame-worthy art available on various products.</p><p>Created for Daniel Suresh (danielsureshkm@gmail.com)</p>",
            "published_at": "2025-08-19T12:14:54+01:00",
            "sort_order": "best-selling",
            "template_suffix": null,
            "published_scope": "web",
            "admin_graphql_api_id": "gid://shopify/Collection/686245839188",
            "image": {
              "created_at": "2025-08-19T12:14:55+01:00",
              "alt": "Shabee Midnight Snack Artwork",
              "width": 1024,
              "height": 1536,
              "src": "https://cdn.shopify.com/s/files/1/0961/0831/4964/collections/68a45bf8c1246be67e051698_prompt2.jpg?v=1755602096"
            }
          }
        }
      },
      {
        "json": {
          "custom_collection": {
            "id": 686245937492,
            "handle": "shabee-victorianportrait-7e051698",
            "title": "Shabee Victorian Portrait",
            "updated_at": "2025-08-19T12:14:56+01:00",
            "body_html": "<p>Custom Victorian Portrait artwork featuring Shabee. High-quality, frame-worthy art available on various products.</p><p>Created for Daniel Suresh (danielsureshkm@gmail.com)</p>",
            "published_at": "2025-08-19T12:14:54+01:00",
            "sort_order": "best-selling",
            "template_suffix": null,
            "published_scope": "web",
            "admin_graphql_api_id": "gid://shopify/Collection/686245937492",
            "image": {
              "created_at": "2025-08-19T12:14:55+01:00",
              "alt": "Shabee Victorian Portrait Artwork",
              "width": 1024,
              "height": 1536,
              "src": "https://cdn.shopify.com/s/files/1/0961/0831/4964/collections/68a45bf8c1246be67e051698_prompt3.jpg?v=1755602096"
            }
          }
        }
      },
      {
        "json": {
          "custom_collection": {
            "id": 686245904724,
            "handle": "shabee-harrypetter-7e051698",
            "title": "Shabee Harry Petter",
            "updated_at": "2025-08-19T12:14:56+01:00",
            "body_html": "<p>Custom Harry Petter artwork featuring Shabee. High-quality, frame-worthy art available on various products.</p><p>Created for Daniel Suresh (danielsureshkm@gmail.com)</p>",
            "published_at": "2025-08-19T12:14:54+01:00",
            "sort_order": "best-selling",
            "template_suffix": null,
            "published_scope": "web",
            "admin_graphql_api_id": "gid://shopify/Collection/686245904724",
            "image": {
              "created_at": "2025-08-19T12:14:55+01:00",
              "alt": "Shabee Harry Petter Artwork",
              "width": 1024,
              "height": 1536,
              "src": "https://cdn.shopify.com/s/files/1/0961/0831/4964/collections/68a45bf8c1246be67e051698_prompt4.jpg?v=1755602096"
            }
          }
        }
      },
      {
        "json": {
          "custom_collection": {
            "id": 686245806420,
            "handle": "shabee-corporatepet-7e051698",
            "title": "Shabee Corporate Pet",
            "updated_at": "2025-08-19T12:14:56+01:00",
            "body_html": "<p>Custom Corporate Pet artwork featuring Shabee. High-quality, frame-worthy art available on various products.</p><p>Created for Daniel Suresh (danielsureshkm@gmail.com)</p>",
            "published_at": "2025-08-19T12:14:54+01:00",
            "sort_order": "best-selling",
            "template_suffix": null,
            "published_scope": "web",
            "admin_graphql_api_id": "gid://shopify/Collection/686245806420",
            "image": {
              "created_at": "2025-08-19T12:14:55+01:00",
              "alt": "Shabee Corporate Pet Artwork",
              "width": 1024,
              "height": 1536,
              "src": "https://cdn.shopify.com/s/files/1/0961/0831/4964/collections/68a45bf8c1246be67e051698_prompt5.jpg?v=1755602096"
            }
          }
        }
      },
      {
        "json": {
          "custom_collection": {
            "id": 686245970260,
            "handle": "shabee-homeyoga-7e051698",
            "title": "Shabee Home Yoga",
            "updated_at": "2025-08-19T12:14:57+01:00",
            "body_html": "<p>Custom Home Yoga artwork featuring Shabee. High-quality, frame-worthy art available on various products.</p><p>Created for Daniel Suresh (danielsureshkm@gmail.com)</p>",
            "published_at": "2025-08-19T12:14:54+01:00",
            "sort_order": "best-selling",
            "template_suffix": null,
            "published_scope": "web",
            "admin_graphql_api_id": "gid://shopify/Collection/686245970260",
            "image": {
              "created_at": "2025-08-19T12:14:55+01:00",
              "alt": "Shabee Home Yoga Artwork",
              "width": 1024,
              "height": 1536,
              "src": "https://cdn.shopify.com/s/files/1/0961/0831/4964/collections/68a45bf8c1246be67e051698_prompt6.jpg?v=1755602097"
            }
          }
        }
      },
      {
        "json": {
          "custom_collection": {
            "id": 686245871956,
            "handle": "shabee-morningcoffee-7e051698",
            "title": "Shabee Morning Coffee",
            "updated_at": "2025-08-19T12:14:56+01:00",
            "body_html": "<p>Custom Morning Coffee artwork featuring Shabee. High-quality, frame-worthy art available on various products.</p><p>Created for Daniel Suresh (danielsureshkm@gmail.com)</p>",
            "published_at": "2025-08-19T12:14:54+01:00",
            "sort_order": "best-selling",
            "template_suffix": null,
            "published_scope": "web",
            "admin_graphql_api_id": "gid://shopify/Collection/686245871956",
            "image": {
              "created_at": "2025-08-19T12:14:55+01:00",
              "alt": "Shabee Morning Coffee Artwork",
              "width": 1024,
              "height": 1536,
              "src": "https://cdn.shopify.com/s/files/1/0961/0831/4964/collections/68a45bf8c1246be67e051698_prompt7.jpg?v=1755602096"
            }
          }
        }
      },
      {
        "json": {
          "custom_collection": {
            "id": 686246003028,
            "handle": "shabee-animestyle-7e051698",
            "title": "Shabee Anime Style",
            "updated_at": "2025-08-19T12:14:57+01:00",
            "body_html": "<p>Custom Anime Style artwork featuring Shabee. High-quality, frame-worthy art available on various products.</p><p>Created for Daniel Suresh (danielsureshkm@gmail.com)</p>",
            "published_at": "2025-08-19T12:14:54+01:00",
            "sort_order": "best-selling",
            "template_suffix": null,
            "published_scope": "web",
            "admin_graphql_api_id": "gid://shopify/Collection/686246003028",
            "image": {
              "created_at": "2025-08-19T12:14:56+01:00",
              "alt": "Shabee Anime Style Artwork",
              "width": 1024,
              "height": 1536,
              "src": "https://cdn.shopify.com/s/files/1/0961/0831/4964/collections/68a45bf8c1246be67e051698_prompt8.jpg?v=1755602097"
            }
          }
        }
      },
      {
        "json": {
          "custom_collection": {
            "id": 686246035796,
            "handle": "shabee-shoppingspree-7e051698",
            "title": "Shabee Shopping Spree",
            "updated_at": "2025-08-19T12:14:57+01:00",
            "body_html": "<p>Custom Shopping Spree artwork featuring Shabee. High-quality, frame-worthy art available on various products.</p><p>Created for Daniel Suresh (danielsureshkm@gmail.com)</p>",
            "published_at": "2025-08-19T12:14:54+01:00",
            "sort_order": "best-selling",
            "template_suffix": null,
            "published_scope": "web",
            "admin_graphql_api_id": "gid://shopify/Collection/686246035796",
            "image": {
              "created_at": "2025-08-19T12:14:56+01:00",
              "alt": "Shabee Shopping Spree Artwork",
              "width": 1024,
              "height": 1536,
              "src": "https://cdn.shopify.com/s/files/1/0961/0831/4964/collections/68a45bf8c1246be67e051698_prompt9.jpg?v=1755602097"
            }
          }
        }
      }
    ],
    "Map_Printify_Products1": [
      {
        "json": {
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "customer_name": "Daniel Suresh",
          "promptIndex": 1,
          "theme_name": "Spa Day Deluxe",
          "shopify_collection_id": 686246068564,
          "product_type": "clothing",
          "image_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/c_scale,w_4000/l_Mask3larger_jpm63l,w_4000,fl_cutter/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt1",
          "blueprint_id": 12,
          "print_provider_id": 331,
          "product_title": "Spa Day Deluxe - Premium Cotton Unisex T-shirt",
          "template_name": "Premium Cotton Unisex T-shirt",
          "required_variant_ids": [
            18539,
            18540,
            18541,
            18542,
            18543,
            18544
          ]
        }
      },
      {
        "json": {
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "customer_name": "Daniel Suresh",
          "promptIndex": 1,
          "theme_name": "Spa Day Deluxe",
          "shopify_collection_id": 686246068564,
          "product_type": "other",
          "image_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt1",
          "blueprint_id": 635,
          "print_provider_id": 94,
          "product_title": "Spa Day Deluxe - Color Accent Mug",
          "template_name": "Color Accent Mug",
          "required_variant_ids": [
            72180,
            72183,
            72184,
            105888
          ]
        }
      },
      {
        "json": {
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "customer_name": "Daniel Suresh",
          "promptIndex": 1,
          "theme_name": "Spa Day Deluxe",
          "shopify_collection_id": 686246068564,
          "product_type": "other",
          "image_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt1",
          "blueprint_id": 764,
          "print_provider_id": 72,
          "product_title": "Spa Day Deluxe - Premium Framed Poster",
          "template_name": "Premium Framed Poster",
          "required_variant_ids": [
            75328,
            75330,
            75332
          ]
        }
      },
      {
        "json": {
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "customer_name": "Daniel Suresh",
          "promptIndex": 1,
          "theme_name": "Spa Day Deluxe",
          "shopify_collection_id": 686246068564,
          "product_type": "other",
          "image_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt1",
          "blueprint_id": 937,
          "print_provider_id": 105,
          "product_title": "Spa Day Deluxe - Canvas Portrait",
          "template_name": "Canvas Portrait",
          "required_variant_ids": [
            95213,
            95214
          ]
        }
      },
      {
        "json": {
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "customer_name": "Daniel Suresh",
          "promptIndex": 2,
          "theme_name": "Midnight Snack",
          "shopify_collection_id": 686245839188,
          "product_type": "clothing",
          "image_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/c_scale,w_4000/l_Mask3larger_jpm63l,w_4000,fl_cutter/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt2",
          "blueprint_id": 12,
          "print_provider_id": 331,
          "product_title": "Midnight Snack - Premium Cotton Unisex T-shirt",
          "template_name": "Premium Cotton Unisex T-shirt",
          "required_variant_ids": [
            18539,
            18540,
            18541,
            18542,
            18543,
            18544
          ]
        }
      },
      {
        "json": {
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "customer_name": "Daniel Suresh",
          "promptIndex": 2,
          "theme_name": "Midnight Snack",
          "shopify_collection_id": 686245839188,
          "product_type": "other",
          "image_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt2",
          "blueprint_id": 635,
          "print_provider_id": 94,
          "product_title": "Midnight Snack - Color Accent Mug",
          "template_name": "Color Accent Mug",
          "required_variant_ids": [
            72180,
            72183,
            72184,
            105888
          ]
        }
      },
      {
        "json": {
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "customer_name": "Daniel Suresh",
          "promptIndex": 2,
          "theme_name": "Midnight Snack",
          "shopify_collection_id": 686245839188,
          "product_type": "other",
          "image_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt2",
          "blueprint_id": 764,
          "print_provider_id": 72,
          "product_title": "Midnight Snack - Premium Framed Poster",
          "template_name": "Premium Framed Poster",
          "required_variant_ids": [
            75328,
            75330,
            75332
          ]
        }
      },
      {
        "json": {
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "customer_name": "Daniel Suresh",
          "promptIndex": 2,
          "theme_name": "Midnight Snack",
          "shopify_collection_id": 686245839188,
          "product_type": "other",
          "image_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt2",
          "blueprint_id": 937,
          "print_provider_id": 105,
          "product_title": "Midnight Snack - Canvas Portrait",
          "template_name": "Canvas Portrait",
          "required_variant_ids": [
            95213,
            95214
          ]
        }
      },
      {
        "json": {
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "customer_name": "Daniel Suresh",
          "promptIndex": 3,
          "theme_name": "Victorian Portrait",
          "shopify_collection_id": 686245937492,
          "product_type": "clothing",
          "image_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/c_scale,w_4000/l_Mask3larger_jpm63l,w_4000,fl_cutter/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt3",
          "blueprint_id": 12,
          "print_provider_id": 331,
          "product_title": "Victorian Portrait - Premium Cotton Unisex T-shirt",
          "template_name": "Premium Cotton Unisex T-shirt",
          "required_variant_ids": [
            18539,
            18540,
            18541,
            18542,
            18543,
            18544
          ]
        }
      },
      {
        "json": {
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "customer_name": "Daniel Suresh",
          "promptIndex": 3,
          "theme_name": "Victorian Portrait",
          "shopify_collection_id": 686245937492,
          "product_type": "other",
          "image_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt3",
          "blueprint_id": 635,
          "print_provider_id": 94,
          "product_title": "Victorian Portrait - Color Accent Mug",
          "template_name": "Color Accent Mug",
          "required_variant_ids": [
            72180,
            72183,
            72184,
            105888
          ]
        }
      },
      {
        "json": {
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "customer_name": "Daniel Suresh",
          "promptIndex": 3,
          "theme_name": "Victorian Portrait",
          "shopify_collection_id": 686245937492,
          "product_type": "other",
          "image_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt3",
          "blueprint_id": 764,
          "print_provider_id": 72,
          "product_title": "Victorian Portrait - Premium Framed Poster",
          "template_name": "Premium Framed Poster",
          "required_variant_ids": [
            75328,
            75330,
            75332
          ]
        }
      },
      {
        "json": {
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "customer_name": "Daniel Suresh",
          "promptIndex": 3,
          "theme_name": "Victorian Portrait",
          "shopify_collection_id": 686245937492,
          "product_type": "other",
          "image_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt3",
          "blueprint_id": 937,
          "print_provider_id": 105,
          "product_title": "Victorian Portrait - Canvas Portrait",
          "template_name": "Canvas Portrait",
          "required_variant_ids": [
            95213,
            95214
          ]
        }
      },
      {
        "json": {
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "customer_name": "Daniel Suresh",
          "promptIndex": 4,
          "theme_name": "Harry Petter",
          "shopify_collection_id": 686245904724,
          "product_type": "clothing",
          "image_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/c_scale,w_4000/l_Mask3larger_jpm63l,w_4000,fl_cutter/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt4",
          "blueprint_id": 12,
          "print_provider_id": 331,
          "product_title": "Harry Petter - Premium Cotton Unisex T-shirt",
          "template_name": "Premium Cotton Unisex T-shirt",
          "required_variant_ids": [
            18539,
            18540,
            18541,
            18542,
            18543,
            18544
          ]
        }
      },
      {
        "json": {
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "customer_name": "Daniel Suresh",
          "promptIndex": 4,
          "theme_name": "Harry Petter",
          "shopify_collection_id": 686245904724,
          "product_type": "other",
          "image_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt4",
          "blueprint_id": 635,
          "print_provider_id": 94,
          "product_title": "Harry Petter - Color Accent Mug",
          "template_name": "Color Accent Mug",
          "required_variant_ids": [
            72180,
            72183,
            72184,
            105888
          ]
        }
      },
      {
        "json": {
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "customer_name": "Daniel Suresh",
          "promptIndex": 4,
          "theme_name": "Harry Petter",
          "shopify_collection_id": 686245904724,
          "product_type": "other",
          "image_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt4",
          "blueprint_id": 764,
          "print_provider_id": 72,
          "product_title": "Harry Petter - Premium Framed Poster",
          "template_name": "Premium Framed Poster",
          "required_variant_ids": [
            75328,
            75330,
            75332
          ]
        }
      },
      {
        "json": {
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "customer_name": "Daniel Suresh",
          "promptIndex": 4,
          "theme_name": "Harry Petter",
          "shopify_collection_id": 686245904724,
          "product_type": "other",
          "image_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt4",
          "blueprint_id": 937,
          "print_provider_id": 105,
          "product_title": "Harry Petter - Canvas Portrait",
          "template_name": "Canvas Portrait",
          "required_variant_ids": [
            95213,
            95214
          ]
        }
      },
      {
        "json": {
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "customer_name": "Daniel Suresh",
          "promptIndex": 5,
          "theme_name": "Corporate Pet",
          "shopify_collection_id": 686245806420,
          "product_type": "clothing",
          "image_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/c_scale,w_4000/l_Mask3larger_jpm63l,w_4000,fl_cutter/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt5",
          "blueprint_id": 12,
          "print_provider_id": 331,
          "product_title": "Corporate Pet - Premium Cotton Unisex T-shirt",
          "template_name": "Premium Cotton Unisex T-shirt",
          "required_variant_ids": [
            18539,
            18540,
            18541,
            18542,
            18543,
            18544
          ]
        }
      },
      {
        "json": {
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "customer_name": "Daniel Suresh",
          "promptIndex": 5,
          "theme_name": "Corporate Pet",
          "shopify_collection_id": 686245806420,
          "product_type": "other",
          "image_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt5",
          "blueprint_id": 635,
          "print_provider_id": 94,
          "product_title": "Corporate Pet - Color Accent Mug",
          "template_name": "Color Accent Mug",
          "required_variant_ids": [
            72180,
            72183,
            72184,
            105888
          ]
        }
      },
      {
        "json": {
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "customer_name": "Daniel Suresh",
          "promptIndex": 5,
          "theme_name": "Corporate Pet",
          "shopify_collection_id": 686245806420,
          "product_type": "other",
          "image_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt5",
          "blueprint_id": 764,
          "print_provider_id": 72,
          "product_title": "Corporate Pet - Premium Framed Poster",
          "template_name": "Premium Framed Poster",
          "required_variant_ids": [
            75328,
            75330,
            75332
          ]
        }
      },
      {
        "json": {
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "customer_name": "Daniel Suresh",
          "promptIndex": 5,
          "theme_name": "Corporate Pet",
          "shopify_collection_id": 686245806420,
          "product_type": "other",
          "image_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt5",
          "blueprint_id": 937,
          "print_provider_id": 105,
          "product_title": "Corporate Pet - Canvas Portrait",
          "template_name": "Canvas Portrait",
          "required_variant_ids": [
            95213,
            95214
          ]
        }
      },
      {
        "json": {
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "customer_name": "Daniel Suresh",
          "promptIndex": 6,
          "theme_name": "Home Yoga",
          "shopify_collection_id": 686245970260,
          "product_type": "clothing",
          "image_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/c_scale,w_4000/l_Mask3larger_jpm63l,w_4000,fl_cutter/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt6",
          "blueprint_id": 12,
          "print_provider_id": 331,
          "product_title": "Home Yoga - Premium Cotton Unisex T-shirt",
          "template_name": "Premium Cotton Unisex T-shirt",
          "required_variant_ids": [
            18539,
            18540,
            18541,
            18542,
            18543,
            18544
          ]
        }
      },
      {
        "json": {
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "customer_name": "Daniel Suresh",
          "promptIndex": 6,
          "theme_name": "Home Yoga",
          "shopify_collection_id": 686245970260,
          "product_type": "other",
          "image_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt6",
          "blueprint_id": 635,
          "print_provider_id": 94,
          "product_title": "Home Yoga - Color Accent Mug",
          "template_name": "Color Accent Mug",
          "required_variant_ids": [
            72180,
            72183,
            72184,
            105888
          ]
        }
      },
      {
        "json": {
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "customer_name": "Daniel Suresh",
          "promptIndex": 6,
          "theme_name": "Home Yoga",
          "shopify_collection_id": 686245970260,
          "product_type": "other",
          "image_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt6",
          "blueprint_id": 764,
          "print_provider_id": 72,
          "product_title": "Home Yoga - Premium Framed Poster",
          "template_name": "Premium Framed Poster",
          "required_variant_ids": [
            75328,
            75330,
            75332
          ]
        }
      },
      {
        "json": {
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "customer_name": "Daniel Suresh",
          "promptIndex": 6,
          "theme_name": "Home Yoga",
          "shopify_collection_id": 686245970260,
          "product_type": "other",
          "image_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt6",
          "blueprint_id": 937,
          "print_provider_id": 105,
          "product_title": "Home Yoga - Canvas Portrait",
          "template_name": "Canvas Portrait",
          "required_variant_ids": [
            95213,
            95214
          ]
        }
      },
      {
        "json": {
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "customer_name": "Daniel Suresh",
          "promptIndex": 7,
          "theme_name": "Morning Coffee",
          "shopify_collection_id": 686245871956,
          "product_type": "clothing",
          "image_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/c_scale,w_4000/l_Mask3larger_jpm63l,w_4000,fl_cutter/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt7",
          "blueprint_id": 12,
          "print_provider_id": 331,
          "product_title": "Morning Coffee - Premium Cotton Unisex T-shirt",
          "template_name": "Premium Cotton Unisex T-shirt",
          "required_variant_ids": [
            18539,
            18540,
            18541,
            18542,
            18543,
            18544
          ]
        }
      },
      {
        "json": {
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "customer_name": "Daniel Suresh",
          "promptIndex": 7,
          "theme_name": "Morning Coffee",
          "shopify_collection_id": 686245871956,
          "product_type": "other",
          "image_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt7",
          "blueprint_id": 635,
          "print_provider_id": 94,
          "product_title": "Morning Coffee - Color Accent Mug",
          "template_name": "Color Accent Mug",
          "required_variant_ids": [
            72180,
            72183,
            72184,
            105888
          ]
        }
      },
      {
        "json": {
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "customer_name": "Daniel Suresh",
          "promptIndex": 7,
          "theme_name": "Morning Coffee",
          "shopify_collection_id": 686245871956,
          "product_type": "other",
          "image_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt7",
          "blueprint_id": 764,
          "print_provider_id": 72,
          "product_title": "Morning Coffee - Premium Framed Poster",
          "template_name": "Premium Framed Poster",
          "required_variant_ids": [
            75328,
            75330,
            75332
          ]
        }
      },
      {
        "json": {
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "customer_name": "Daniel Suresh",
          "promptIndex": 7,
          "theme_name": "Morning Coffee",
          "shopify_collection_id": 686245871956,
          "product_type": "other",
          "image_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt7",
          "blueprint_id": 937,
          "print_provider_id": 105,
          "product_title": "Morning Coffee - Canvas Portrait",
          "template_name": "Canvas Portrait",
          "required_variant_ids": [
            95213,
            95214
          ]
        }
      },
      {
        "json": {
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "customer_name": "Daniel Suresh",
          "promptIndex": 8,
          "theme_name": "Anime Style",
          "shopify_collection_id": 686246003028,
          "product_type": "clothing",
          "image_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/c_scale,w_4000/l_Mask3larger_jpm63l,w_4000,fl_cutter/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt8",
          "blueprint_id": 12,
          "print_provider_id": 331,
          "product_title": "Anime Style - Premium Cotton Unisex T-shirt",
          "template_name": "Premium Cotton Unisex T-shirt",
          "required_variant_ids": [
            18539,
            18540,
            18541,
            18542,
            18543,
            18544
          ]
        }
      },
      {
        "json": {
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "customer_name": "Daniel Suresh",
          "promptIndex": 8,
          "theme_name": "Anime Style",
          "shopify_collection_id": 686246003028,
          "product_type": "other",
          "image_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt8",
          "blueprint_id": 635,
          "print_provider_id": 94,
          "product_title": "Anime Style - Color Accent Mug",
          "template_name": "Color Accent Mug",
          "required_variant_ids": [
            72180,
            72183,
            72184,
            105888
          ]
        }
      },
      {
        "json": {
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "customer_name": "Daniel Suresh",
          "promptIndex": 8,
          "theme_name": "Anime Style",
          "shopify_collection_id": 686246003028,
          "product_type": "other",
          "image_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt8",
          "blueprint_id": 764,
          "print_provider_id": 72,
          "product_title": "Anime Style - Premium Framed Poster",
          "template_name": "Premium Framed Poster",
          "required_variant_ids": [
            75328,
            75330,
            75332
          ]
        }
      },
      {
        "json": {
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "customer_name": "Daniel Suresh",
          "promptIndex": 8,
          "theme_name": "Anime Style",
          "shopify_collection_id": 686246003028,
          "product_type": "other",
          "image_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt8",
          "blueprint_id": 937,
          "print_provider_id": 105,
          "product_title": "Anime Style - Canvas Portrait",
          "template_name": "Canvas Portrait",
          "required_variant_ids": [
            95213,
            95214
          ]
        }
      },
      {
        "json": {
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "customer_name": "Daniel Suresh",
          "promptIndex": 9,
          "theme_name": "Shopping Spree",
          "shopify_collection_id": 686246035796,
          "product_type": "clothing",
          "image_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/c_scale,w_4000/l_Mask3larger_jpm63l,w_4000,fl_cutter/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt9",
          "blueprint_id": 12,
          "print_provider_id": 331,
          "product_title": "Shopping Spree - Premium Cotton Unisex T-shirt",
          "template_name": "Premium Cotton Unisex T-shirt",
          "required_variant_ids": [
            18539,
            18540,
            18541,
            18542,
            18543,
            18544
          ]
        }
      },
      {
        "json": {
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "customer_name": "Daniel Suresh",
          "promptIndex": 9,
          "theme_name": "Shopping Spree",
          "shopify_collection_id": 686246035796,
          "product_type": "other",
          "image_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt9",
          "blueprint_id": 635,
          "print_provider_id": 94,
          "product_title": "Shopping Spree - Color Accent Mug",
          "template_name": "Color Accent Mug",
          "required_variant_ids": [
            72180,
            72183,
            72184,
            105888
          ]
        }
      },
      {
        "json": {
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "customer_name": "Daniel Suresh",
          "promptIndex": 9,
          "theme_name": "Shopping Spree",
          "shopify_collection_id": 686246035796,
          "product_type": "other",
          "image_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt9",
          "blueprint_id": 764,
          "print_provider_id": 72,
          "product_title": "Shopping Spree - Premium Framed Poster",
          "template_name": "Premium Framed Poster",
          "required_variant_ids": [
            75328,
            75330,
            75332
          ]
        }
      },
      {
        "json": {
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "customer_name": "Daniel Suresh",
          "promptIndex": 9,
          "theme_name": "Shopping Spree",
          "shopify_collection_id": 686246035796,
          "product_type": "other",
          "image_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt9",
          "blueprint_id": 937,
          "print_provider_id": 105,
          "product_title": "Shopping Spree - Canvas Portrait",
          "template_name": "Canvas Portrait",
          "required_variant_ids": [
            95213,
            95214
          ]
        }
      }
    ],
    "When Executed by Another Workflow": [
      {
        "json": {
          "session_id": "68a45bf8c1246be67e051698",
          "customer_name": "Daniel Suresh",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "petKind": "Dog",
          "petGender": "Female"
        }
      },
      {
        "json": {
          "asset_id": "61f90a5f430cdfc0563b0f2ca8d33549",
          "public_id": "68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt1",
          "version": 1755602090,
          "version_id": "ab1c6c1c0a4159058faf1fc34f04fa57",
          "signature": "d5925948b55952ecd2e71526d336ffe93bd2e9ff",
          "width": 1024,
          "height": 1536,
          "format": "jpg",
          "resource_type": "image",
          "created_at": "2025-08-19T11:14:50Z",
          "tags": [],
          "bytes": 208757,
          "type": "upload",
          "etag": "48d85169c8bc8d81acc21f6a695b78d5",
          "placeholder": false,
          "url": "http://res.cloudinary.com/myfurryprints/image/upload/v1755602090/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt1.jpg",
          "secure_url": "https://res.cloudinary.com/myfurryprints/image/upload/v1755602090/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt1.jpg",
          "asset_folder": "68a45bf8c1246be67e051698",
          "display_name": "file",
          "existing": false,
          "original_filename": "file",
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "petKind": "Dog",
          "customer_name": "Daniel Suresh",
          "promptIndex": 1,
          "theme_name": "Spa Day Deluxe",
          "customFilename": "68a45bf8c1246be67e051698_prompt1",
          "original_url": "https://res.cloudinary.com/myfurryprints/image/upload/v1755602090/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt1.jpg",
          "collection_image_url": "https://res.cloudinary.com/myfurryprints/image/upload/l_MFP-Watermark_k1usnu.png/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt1",
          "transformations": {
            "clothing": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/l_Mask3larger_jpm63l,w_4000,fl_cutter/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt1",
            "other": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt1",
            "watermark": "https://res.cloudinary.com/myfurryprints/image/upload/l_MFP-Watermark_k1usnu.png/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt1"
          },
          "clothing_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/l_Mask3larger_jpm63l,w_4000,fl_cutter/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt1",
          "other_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt1"
        }
      },
      {
        "json": {
          "asset_id": "2cba3e32003922083eb2173c64ed9ee4",
          "public_id": "68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt2",
          "version": 1755602090,
          "version_id": "ab1c6c1c0a4159058faf1fc34f04fa57",
          "signature": "d9a3205424e413266dc145a0a00dc6076aa33e9f",
          "width": 1024,
          "height": 1536,
          "format": "jpg",
          "resource_type": "image",
          "created_at": "2025-08-19T11:14:50Z",
          "tags": [],
          "bytes": 167255,
          "type": "upload",
          "etag": "abf02f543bb5838d115c9e02ce0a8e99",
          "placeholder": false,
          "url": "http://res.cloudinary.com/myfurryprints/image/upload/v1755602090/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt2.jpg",
          "secure_url": "https://res.cloudinary.com/myfurryprints/image/upload/v1755602090/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt2.jpg",
          "asset_folder": "68a45bf8c1246be67e051698",
          "display_name": "file",
          "existing": false,
          "original_filename": "file",
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "petKind": "Dog",
          "customer_name": "Daniel Suresh",
          "promptIndex": 2,
          "theme_name": "Midnight Snack",
          "customFilename": "68a45bf8c1246be67e051698_prompt2",
          "original_url": "https://res.cloudinary.com/myfurryprints/image/upload/v1755602090/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt2.jpg",
          "collection_image_url": "https://res.cloudinary.com/myfurryprints/image/upload/l_MFP-Watermark_k1usnu.png/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt2",
          "transformations": {
            "clothing": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/l_Mask3larger_jpm63l,w_4000,fl_cutter/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt2",
            "other": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt2",
            "watermark": "https://res.cloudinary.com/myfurryprints/image/upload/l_MFP-Watermark_k1usnu.png/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt2"
          },
          "clothing_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/l_Mask3larger_jpm63l,w_4000,fl_cutter/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt2",
          "other_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt2"
        }
      },
      {
        "json": {
          "asset_id": "0e3735d6d795853ecbe47093cada9a3b",
          "public_id": "68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt3",
          "version": 1755602090,
          "version_id": "ab1c6c1c0a4159058faf1fc34f04fa57",
          "signature": "0ae9582b00ccbcd6e7e25997b80a8bd26f3193b5",
          "width": 1024,
          "height": 1536,
          "format": "jpg",
          "resource_type": "image",
          "created_at": "2025-08-19T11:14:50Z",
          "tags": [],
          "bytes": 234247,
          "type": "upload",
          "etag": "a442f1e651709e44c0dc02e088e57f59",
          "placeholder": false,
          "url": "http://res.cloudinary.com/myfurryprints/image/upload/v1755602090/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt3.jpg",
          "secure_url": "https://res.cloudinary.com/myfurryprints/image/upload/v1755602090/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt3.jpg",
          "asset_folder": "68a45bf8c1246be67e051698",
          "display_name": "file",
          "existing": false,
          "original_filename": "file",
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "petKind": "Dog",
          "customer_name": "Daniel Suresh",
          "promptIndex": 3,
          "theme_name": "Victorian Portrait",
          "customFilename": "68a45bf8c1246be67e051698_prompt3",
          "original_url": "https://res.cloudinary.com/myfurryprints/image/upload/v1755602090/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt3.jpg",
          "collection_image_url": "https://res.cloudinary.com/myfurryprints/image/upload/l_MFP-Watermark_k1usnu.png/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt3",
          "transformations": {
            "clothing": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/l_Mask3larger_jpm63l,w_4000,fl_cutter/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt3",
            "other": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt3",
            "watermark": "https://res.cloudinary.com/myfurryprints/image/upload/l_MFP-Watermark_k1usnu.png/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt3"
          },
          "clothing_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/l_Mask3larger_jpm63l,w_4000,fl_cutter/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt3",
          "other_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt3"
        }
      },
      {
        "json": {
          "asset_id": "0bef6b426acc3604451b412b9db4c908",
          "public_id": "68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt4",
          "version": 1755602091,
          "version_id": "ec91bd34d4eedc052eff8abc468ee8ac",
          "signature": "81b9b98200a4cce4f6d2b1bfd960996bc4009de9",
          "width": 1024,
          "height": 1536,
          "format": "jpg",
          "resource_type": "image",
          "created_at": "2025-08-19T11:14:51Z",
          "tags": [],
          "bytes": 221132,
          "type": "upload",
          "etag": "b85aa754a9fce4861b672dbd98640ef8",
          "placeholder": false,
          "url": "http://res.cloudinary.com/myfurryprints/image/upload/v1755602091/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt4.jpg",
          "secure_url": "https://res.cloudinary.com/myfurryprints/image/upload/v1755602091/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt4.jpg",
          "asset_folder": "68a45bf8c1246be67e051698",
          "display_name": "file",
          "existing": false,
          "original_filename": "file",
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "petKind": "Dog",
          "customer_name": "Daniel Suresh",
          "promptIndex": 4,
          "theme_name": "Harry Petter",
          "customFilename": "68a45bf8c1246be67e051698_prompt4",
          "original_url": "https://res.cloudinary.com/myfurryprints/image/upload/v1755602091/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt4.jpg",
          "collection_image_url": "https://res.cloudinary.com/myfurryprints/image/upload/l_MFP-Watermark_k1usnu.png/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt4",
          "transformations": {
            "clothing": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/l_Mask3larger_jpm63l,w_4000,fl_cutter/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt4",
            "other": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt4",
            "watermark": "https://res.cloudinary.com/myfurryprints/image/upload/l_MFP-Watermark_k1usnu.png/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt4"
          },
          "clothing_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/l_Mask3larger_jpm63l,w_4000,fl_cutter/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt4",
          "other_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt4"
        }
      },
      {
        "json": {
          "asset_id": "a17364c837547cb1a1599f228df0cab7",
          "public_id": "68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt5",
          "version": 1755602091,
          "version_id": "ec91bd34d4eedc052eff8abc468ee8ac",
          "signature": "56f39bdf64e7fa5d40a71ff425b341e822d03a8d",
          "width": 1024,
          "height": 1536,
          "format": "jpg",
          "resource_type": "image",
          "created_at": "2025-08-19T11:14:51Z",
          "tags": [],
          "bytes": 201593,
          "type": "upload",
          "etag": "40366d81484d08a16bf9d9cc49e97db5",
          "placeholder": false,
          "url": "http://res.cloudinary.com/myfurryprints/image/upload/v1755602091/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt5.jpg",
          "secure_url": "https://res.cloudinary.com/myfurryprints/image/upload/v1755602091/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt5.jpg",
          "asset_folder": "68a45bf8c1246be67e051698",
          "display_name": "file",
          "existing": false,
          "original_filename": "file",
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "petKind": "Dog",
          "customer_name": "Daniel Suresh",
          "promptIndex": 5,
          "theme_name": "Corporate Pet",
          "customFilename": "68a45bf8c1246be67e051698_prompt5",
          "original_url": "https://res.cloudinary.com/myfurryprints/image/upload/v1755602091/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt5.jpg",
          "collection_image_url": "https://res.cloudinary.com/myfurryprints/image/upload/l_MFP-Watermark_k1usnu.png/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt5",
          "transformations": {
            "clothing": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/l_Mask3larger_jpm63l,w_4000,fl_cutter/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt5",
            "other": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt5",
            "watermark": "https://res.cloudinary.com/myfurryprints/image/upload/l_MFP-Watermark_k1usnu.png/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt5"
          },
          "clothing_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/l_Mask3larger_jpm63l,w_4000,fl_cutter/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt5",
          "other_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt5"
        }
      },
      {
        "json": {
          "asset_id": "4fae1a8d92aa998627d3ef660b75b318",
          "public_id": "68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt6",
          "version": 1755602091,
          "version_id": "ec91bd34d4eedc052eff8abc468ee8ac",
          "signature": "f9682eb6a6b48f78f5740aa5eb44c71334d700ae",
          "width": 1024,
          "height": 1536,
          "format": "jpg",
          "resource_type": "image",
          "created_at": "2025-08-19T11:14:51Z",
          "tags": [],
          "bytes": 203067,
          "type": "upload",
          "etag": "6883f97fbfbf4f5af5d4d5cb8bb6a463",
          "placeholder": false,
          "url": "http://res.cloudinary.com/myfurryprints/image/upload/v1755602091/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt6.jpg",
          "secure_url": "https://res.cloudinary.com/myfurryprints/image/upload/v1755602091/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt6.jpg",
          "asset_folder": "68a45bf8c1246be67e051698",
          "display_name": "file",
          "existing": false,
          "original_filename": "file",
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "petKind": "Dog",
          "customer_name": "Daniel Suresh",
          "promptIndex": 6,
          "theme_name": "Home Yoga",
          "customFilename": "68a45bf8c1246be67e051698_prompt6",
          "original_url": "https://res.cloudinary.com/myfurryprints/image/upload/v1755602091/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt6.jpg",
          "collection_image_url": "https://res.cloudinary.com/myfurryprints/image/upload/l_MFP-Watermark_k1usnu.png/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt6",
          "transformations": {
            "clothing": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/l_Mask3larger_jpm63l,w_4000,fl_cutter/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt6",
            "other": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt6",
            "watermark": "https://res.cloudinary.com/myfurryprints/image/upload/l_MFP-Watermark_k1usnu.png/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt6"
          },
          "clothing_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/l_Mask3larger_jpm63l,w_4000,fl_cutter/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt6",
          "other_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt6"
        }
      },
      {
        "json": {
          "asset_id": "1b03b3eee1d29ba6f1ac9a8edfee6a60",
          "public_id": "68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt7",
          "version": 1755602091,
          "version_id": "ec91bd34d4eedc052eff8abc468ee8ac",
          "signature": "09b90ddd3f44c6a5746b3c0df34fee245c74ca1f",
          "width": 1024,
          "height": 1536,
          "format": "jpg",
          "resource_type": "image",
          "created_at": "2025-08-19T11:14:51Z",
          "tags": [],
          "bytes": 213842,
          "type": "upload",
          "etag": "255f0f341c88cce2ba25c8143dcdd4c0",
          "placeholder": false,
          "url": "http://res.cloudinary.com/myfurryprints/image/upload/v1755602091/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt7.jpg",
          "secure_url": "https://res.cloudinary.com/myfurryprints/image/upload/v1755602091/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt7.jpg",
          "asset_folder": "68a45bf8c1246be67e051698",
          "display_name": "file",
          "existing": false,
          "original_filename": "file",
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "petKind": "Dog",
          "customer_name": "Daniel Suresh",
          "promptIndex": 7,
          "theme_name": "Morning Coffee",
          "customFilename": "68a45bf8c1246be67e051698_prompt7",
          "original_url": "https://res.cloudinary.com/myfurryprints/image/upload/v1755602091/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt7.jpg",
          "collection_image_url": "https://res.cloudinary.com/myfurryprints/image/upload/l_MFP-Watermark_k1usnu.png/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt7",
          "transformations": {
            "clothing": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/l_Mask3larger_jpm63l,w_4000,fl_cutter/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt7",
            "other": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt7",
            "watermark": "https://res.cloudinary.com/myfurryprints/image/upload/l_MFP-Watermark_k1usnu.png/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt7"
          },
          "clothing_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/l_Mask3larger_jpm63l,w_4000,fl_cutter/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt7",
          "other_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt7"
        }
      },
      {
        "json": {
          "asset_id": "fde3b2c36fc1999ad2f1ac3fc6ae122c",
          "public_id": "68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt8",
          "version": 1755602091,
          "version_id": "ec91bd34d4eedc052eff8abc468ee8ac",
          "signature": "3663fa9304a432ca642ce4a8767e012d532eff21",
          "width": 1024,
          "height": 1536,
          "format": "jpg",
          "resource_type": "image",
          "created_at": "2025-08-19T11:14:51Z",
          "tags": [],
          "bytes": 441545,
          "type": "upload",
          "etag": "56b31c926fed5e7670c25c1487f808b6",
          "placeholder": false,
          "url": "http://res.cloudinary.com/myfurryprints/image/upload/v1755602091/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt8.jpg",
          "secure_url": "https://res.cloudinary.com/myfurryprints/image/upload/v1755602091/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt8.jpg",
          "asset_folder": "68a45bf8c1246be67e051698",
          "display_name": "file",
          "existing": false,
          "original_filename": "file",
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "petKind": "Dog",
          "customer_name": "Daniel Suresh",
          "promptIndex": 8,
          "theme_name": "Anime Style",
          "customFilename": "68a45bf8c1246be67e051698_prompt8",
          "original_url": "https://res.cloudinary.com/myfurryprints/image/upload/v1755602091/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt8.jpg",
          "collection_image_url": "https://res.cloudinary.com/myfurryprints/image/upload/l_MFP-Watermark_k1usnu.png/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt8",
          "transformations": {
            "clothing": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/l_Mask3larger_jpm63l,w_4000,fl_cutter/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt8",
            "other": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt8",
            "watermark": "https://res.cloudinary.com/myfurryprints/image/upload/l_MFP-Watermark_k1usnu.png/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt8"
          },
          "clothing_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/l_Mask3larger_jpm63l,w_4000,fl_cutter/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt8",
          "other_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt8"
        }
      },
      {
        "json": {
          "asset_id": "ae5eeffc45cca2e7dde494297eec0aa0",
          "public_id": "68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt9",
          "version": 1755602091,
          "version_id": "ec91bd34d4eedc052eff8abc468ee8ac",
          "signature": "935b0a5fc2ae9423d5ecf18fdac61b9e3a70db75",
          "width": 1024,
          "height": 1536,
          "format": "jpg",
          "resource_type": "image",
          "created_at": "2025-08-19T11:14:51Z",
          "tags": [],
          "bytes": 304674,
          "type": "upload",
          "etag": "103728a618bcdbff52d32ca96e4ff394",
          "placeholder": false,
          "url": "http://res.cloudinary.com/myfurryprints/image/upload/v1755602091/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt9.jpg",
          "secure_url": "https://res.cloudinary.com/myfurryprints/image/upload/v1755602091/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt9.jpg",
          "asset_folder": "68a45bf8c1246be67e051698",
          "display_name": "file",
          "existing": false,
          "original_filename": "file",
          "session_id": "68a45bf8c1246be67e051698",
          "email": "danielsureshkm@gmail.com",
          "petname": "Shabee",
          "petKind": "Dog",
          "customer_name": "Daniel Suresh",
          "promptIndex": 9,
          "theme_name": "Shopping Spree",
          "customFilename": "68a45bf8c1246be67e051698_prompt9",
          "original_url": "https://res.cloudinary.com/myfurryprints/image/upload/v1755602091/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt9.jpg",
          "collection_image_url": "https://res.cloudinary.com/myfurryprints/image/upload/l_MFP-Watermark_k1usnu.png/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt9",
          "transformations": {
            "clothing": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/l_Mask3larger_jpm63l,w_4000,fl_cutter/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt9",
            "other": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt9",
            "watermark": "https://res.cloudinary.com/myfurryprints/image/upload/l_MFP-Watermark_k1usnu.png/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt9"
          },
          "clothing_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/l_Mask3larger_jpm63l,w_4000,fl_cutter/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt9",
          "other_url": "https://res.cloudinary.com/myfurryprints/image/upload/e_upscale/f_webp/c_scale,w_4000/68a45bf8c1246be67e051698/68a45bf8c1246be67e051698_prompt9"
        }
      }
    ]
  },
  "versionId": "a4981b92-ce59-4c0d-9ae0-a0756de89dab",
  "activeVersionId": "a4981b92-ce59-4c0d-9ae0-a0756de89dab",
  "versionCounter": 3,
  "triggerCount": 0,
  "shared": [
    {
      "updatedAt": "2025-08-26T07:34:18.597Z",
      "createdAt": "2025-08-26T07:34:18.597Z",
      "role": "workflow:owner",
      "workflowId": "iccc2jy75anpcthr",
      "projectId": "lLSHos7ohHn7AjNm",
      "project": {
        "updatedAt": "2025-06-14T17:25:02.061Z",
        "createdAt": "2025-06-14T17:13:49.092Z",
        "id": "lLSHos7ohHn7AjNm",
        "name": "Muhasin Rashid <muhasin@gauger.in>",
        "type": "personal",
        "icon": null,
        "description": null,
        "projectRelations": [
          {
            "updatedAt": "2025-06-14T17:13:49.092Z",
            "createdAt": "2025-06-14T17:13:49.092Z",
            "userId": "f88f8c62-813a-499e-aaee-b5f4da43c5a7",
            "projectId": "lLSHos7ohHn7AjNm",
            "user": {
              "updatedAt": "2025-12-18T05:00:03.582Z",
              "createdAt": "2025-06-14T17:13:45.907Z",
              "id": "f88f8c62-813a-499e-aaee-b5f4da43c5a7",
              "email": "muhasin@gauger.in",
              "firstName": "Muhasin",
              "lastName": "Rashid",
              "personalizationAnswers": {
                "version": "v4",
                "personalization_survey_submitted_at": "2025-06-14T17:25:40.417Z",
                "personalization_survey_n8n_version": "1.97.1",
                "automationGoalDevops": [
                  "other"
                ],
                "automationGoalDevopsOther": "Product",
                "companyType": "ecommerce",
                "role": "engineering"
              },
              "settings": {
                "userActivated": true,
                "easyAIWorkflowOnboarded": true,
                "firstSuccessfulWorkflowId": "JsDBWbsoYaKBkGmW",
                "userActivatedAt": 1758182279933,
                "npsSurvey": {
                  "responded": true,
                  "lastShownAt": 1752395252283
                }
              },
              "disabled": false,
              "mfaEnabled": false,
              "lastActiveAt": "2025-12-18",
              "isPending": false
            }
          }
        ]
      }
    }
  ],
  "tags": [],
  "activeVersion": {
    "updatedAt": "2025-11-27T07:27:47.774Z",
    "createdAt": "2025-11-27T07:27:47.774Z",
    "versionId": "a4981b92-ce59-4c0d-9ae0-a0756de89dab",
    "workflowId": "iccc2jy75anpcthr",
    "nodes": [
      {
        "parameters": {
          "inputSource": "passthrough"
        },
        "type": "n8n-nodes-base.executeWorkflowTrigger",
        "typeVersion": 1.1,
        "position": [
          -4592,
          272
        ],
        "id": "74e2029f-5f10-403c-9902-1603b813d0bc",
        "name": "When Executed by Another Workflow"
      },
      {
        "parameters": {
          "jsCode": "// Loop over input items and add a new field called 'myNewField' to the JSON of each one\nfor (const item of $input.all()) {\n  item.json.myNewField = 1;\n}\n\nreturn $input.all();"
        },
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          -3456,
          288
        ],
        "id": "aa41e99f-b257-4cf6-8b69-4a6893df2b4d",
        "name": "Extract Collection Data"
      },
      {
        "parameters": {
          "options": {
            "reset": false
          }
        },
        "type": "n8n-nodes-base.splitInBatches",
        "typeVersion": 3,
        "position": [
          -2672,
          288
        ],
        "id": "bb4ceb86-eeb1-47dc-96ca-94c4fee0bbda",
        "name": "Loop Product Templates"
      },
      {
        "parameters": {
          "method": "POST",
          "url": "https://api.printify.com/v1/uploads/images.json",
          "authentication": "genericCredentialType",
          "genericAuthType": "httpHeaderAuth",
          "sendBody": true,
          "specifyBody": "json",
          "jsonBody": "={\n  \"file_name\": \"{{ $json.petname }}_{{ $json.theme_name }}.jpg\",\n  \"url\": \"{{ $json.image_url }}\"\n}",
          "options": {}
        },
        "type": "n8n-nodes-base.httpRequest",
        "typeVersion": 4.2,
        "position": [
          -2336,
          112
        ],
        "id": "4a8d8524-a3c8-4956-ba7f-779734341e3a",
        "name": "Upload_Image_To_Printify",
        "retryOnFail": true,
        "waitBetweenTries": 5000,
        "credentials": {
          "httpHeaderAuth": {
            "id": "QyrLm1DfKVd2QbzS",
            "name": "Printify API Auth"
          }
        }
      },
      {
        "parameters": {
          "url": "=https://api.printify.com/v1/catalog/blueprints/{{ $json.blueprint_id }}/print_providers/{{ $json.print_provider_id }}/variants.json",
          "authentication": "genericCredentialType",
          "genericAuthType": "httpHeaderAuth",
          "options": {}
        },
        "type": "n8n-nodes-base.httpRequest",
        "typeVersion": 4.2,
        "position": [
          -2336,
          352
        ],
        "id": "81146d3c-4672-49c7-8782-01cd8beacb42",
        "name": "Get_Print_Provider_Variants",
        "retryOnFail": true,
        "waitBetweenTries": 5000,
        "credentials": {
          "httpBasicAuth": {
            "id": "ZwQuXy3mFoa7bh3H",
            "name": "cloudinaryFurryPrints"
          },
          "httpHeaderAuth": {
            "id": "QyrLm1DfKVd2QbzS",
            "name": "Printify API Auth"
          }
        }
      },
      {
        "parameters": {
          "jsCode": "// In \"Prepare_Printify_Product_Payload\" (ID: d98090aa-3355-4fc8-bc41-63373c3e29c7)\n\n// --- NEW: Read all variant data from the Google Sheet node ---\nconst sheetData = $('Get_Variant_Pricing_From_Sheet').all();\n\n// --- NEW: Create Maps for fast lookups. One for prices, one for descriptions ---\nconst variantPriceMap = new Map();\nconst blueprintDescriptionMap = new Map();\n\nfor (const item of sheetData) {\n  const { variant_id, price, blueprint_id, product_description } = item.json;\n  \n  // Map each variant_id to its price\n  if (variant_id && price !== undefined) {\n    variantPriceMap.set(String(variant_id), parseInt(price, 10));\n  }\n  \n  // Map each blueprint_id to a description. This avoids storing redundant descriptions.\n  // We only store the first valid description we find for a blueprint.\n  if (blueprint_id && product_description && !blueprintDescriptionMap.has(String(blueprint_id))) {\n    blueprintDescriptionMap.set(String(blueprint_id), product_description);\n  }\n}\nconsole.log(`Loaded ${variantPriceMap.size} prices and ${blueprintDescriptionMap.size} descriptions from the sheet.`);\n\n\n// 1. Get the original data from the start of the loop\nconst productInfo = $('Loop Product Templates').item.json;\n\n// 2. Get the result of the image upload\nconst uploadedImage = $('Upload_Image_To_Printify').item.json;\n\n// 3. Get the result of the variants API call\nconst providerVariantsResponse = $input.item.json;\n\n// --- Error Checking ---\nif (!productInfo || !productInfo.product_title) {\n  throw new Error(\"Could not find original product data from the loop.\");\n}\nif (!uploadedImage || !uploadedImage.id) {\n  throw new Error(\"Could not find a valid image ID from the upload step.\");\n}\nif (!providerVariantsResponse || !providerVariantsResponse.variants) {\n  throw new Error(\"Could not find a valid variants array from the API call.\");\n}\n\nconst placeholderPosition = providerVariantsResponse.variants?.[0]?.print_areas?.[0]?.placeholders?.[0]?.position || \"front\";\nconst requiredVariantIds = productInfo.required_variant_ids;\n\n// --- UPDATED LOGIC: Set price for each variant based on the Google Sheet ---\nconst variants = providerVariantsResponse.variants\n  .filter(variant => requiredVariantIds.includes(variant.id))\n  .map(variant => {\n    // Look up the price from our map\n    const priceFromSheet = variantPriceMap.get(String(variant.id));\n\n    if (priceFromSheet === undefined) {\n      console.warn(`‚ö†Ô∏è Price for variant ID ${variant.id} not found in Google Sheet. Using fallback price.`);\n    }\n\n    return {\n      id: variant.id,\n      price: priceFromSheet || 2999, // Use price from sheet or fallback to 2999\n      is_enabled: true\n    };\n  });\n\nif (variants.length === 0) {\n    throw new Error(`Could not find any matching variants for the provided IDs: ${requiredVariantIds.join(', ')}`);\n}\n\nconst all_variant_ids = variants.map(v => v.id);\n\n// --- UPDATED DESCRIPTION HANDLING ---\nlet description = blueprintDescriptionMap.get(String(productInfo.blueprint_id));\nif (!description) {\n  console.warn(`‚ö†Ô∏è Description for blueprint ID ${productInfo.blueprint_id} not found. Using generic fallback.`);\n  description = `<p>Custom ${productInfo.theme_name} artwork featuring ${productInfo.petname}.</p>`;\n}\n\n// 1. Replace placeholders like {{petname}}\nlet processedDescription = description\n  .replace(/{{petname}}/g, productInfo.petname)\n  .replace(/{{theme_name}}/g, productInfo.theme_name);\n\n// 2. Convert paragraph and heading breaks to a unique placeholder\nprocessedDescription = processedDescription.replace(/<\\/p>|<\\/h[1-6]>/gi, '__BREAK__');\n\n// 3. Now, strip all remaining HTML tags and non-breaking spaces\nlet cleanText = processedDescription.replace(/<[^>]*>/g, '').replace(/&nbsp;/g, ' ').trim();\n\n// 4. Convert the placeholder to standard HTML line breaks for Shopify\nconst finalDescription = cleanText.replace(/(__BREAK__\\s*)+/g, '<br><br>');\n\n\n// --- HARD-CODED PLACEMENT SETTINGS (No change here) ---\nconst imagePlacementMap = {\n   //tshirt\n 12 : { x: 0.5,y: 0.5045,scale: 0.8,angle: 0},\n\n  //Color Accent Mug\n  635: { x: 0.20573430849374247,\n         y: 0.4950372661929266,\n       scale: 0.31111111111111106,\n      angle: 0},\n\n  //Tough phone case-iPhone\n  421: {x: 0.5533677600162773,\n          y: 0.5141509433962264,\n        scale: 1,\n        angle: 0},\n  \n//Tough phone case-Samsung\n  421: {x: 0.5533677600162773,\n          y: 0.5141509433962264,\n        scale: 1,\n        angle: 0},\n  \n\n  //framed poster \n  764 : { x : 0.5, y: 0.5, scale : 1, angle : 0}, \n\n  //canvas portrait\n  937 : {x: 0.5,\n        y: 0.5000067762626349,\n         scale: 0.9999999999999997,\n          angle: 0}\n  // Add more as needed\n};\nconst fallbackPlacement = { x: 0.5, y: 0.5, scale: 1, angle: 0 };\nconst placement = imagePlacementMap[productInfo.blueprint_id] || fallbackPlacement;\n\n// --- Payload Assembly ---\nconst payload = {\n  \"title\": productInfo.product_title,\n  \"description\": finalDescription, // Use the new clean description\n  \"blueprint_id\": productInfo.blueprint_id,\n  \"print_provider_id\": productInfo.print_provider_id,\n  \"variants\": variants,\n  \"print_areas\": [\n    {\n      \"variant_ids\": all_variant_ids,\n      \"placeholders\": [\n        {\n          \"position\": placeholderPosition,\n          \"images\": [\n            {\n              \"id\": uploadedImage.id,\n              \"x\": placement.x,\n              \"y\": placement.y,\n              \"scale\": placement.scale,\n              \"angle\": placement.angle\n            }\n          ]\n        }\n      ]\n    }\n  ],\n  \"tags\": [\n    $('When Executed by Another Workflow').first().json.email,\n    $('When Executed by Another Workflow').first().json.petGender,\n    $('When Executed by Another Workflow').first().json.petKind,\n    $('When Executed by Another Workflow').first().json.session_id,\n    $('When Executed by Another Workflow').first().json.petname,\n    productInfo.theme_name\n  ]\n};\n\n// --- THIS IS THE FINAL, CORRECTED LOGIC ---\n// Add print_details object for the canvas product, as you discovered.\nif (productInfo.blueprint_id === 937) {\n  payload.print_details = {\n    \"print_on_side\": \"mirror\" // Use \"regular\" for print on sides\n  };\n  console.log(`‚úÖ Added print_details object for Canvas Portrait.`);\n}\n// Return the final data\nreturn {\n  json: {\n    ...productInfo,\n    printifyPayload: payload\n  }\n};"
        },
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          -1840,
          368
        ],
        "id": "d965c509-9704-4eca-81c5-aa93756141f5",
        "name": "Prepare_Printify_Product_Payload"
      },
      {
        "parameters": {
          "method": "POST",
          "url": "=https://api.printify.com/v1/shops/21658609/products.json",
          "authentication": "genericCredentialType",
          "genericAuthType": "httpHeaderAuth",
          "sendBody": true,
          "specifyBody": "json",
          "jsonBody": "={{ $json.printifyPayload }}",
          "options": {}
        },
        "type": "n8n-nodes-base.httpRequest",
        "typeVersion": 4.2,
        "position": [
          -1552,
          368
        ],
        "id": "4cf62165-5011-40c4-a0e1-3e30f110de5b",
        "name": "Create_Printify_Product",
        "retryOnFail": true,
        "maxTries": 5,
        "waitBetweenTries": 5000,
        "credentials": {
          "httpHeaderAuth": {
            "id": "QyrLm1DfKVd2QbzS",
            "name": "Printify API Auth"
          }
        }
      },
      {
        "parameters": {
          "method": "POST",
          "url": "=https://api.printify.com/v1/shops/21658609/products/{{ $('Create_Printify_Product').item.json.id }}/publish.json",
          "authentication": "genericCredentialType",
          "genericAuthType": "httpHeaderAuth",
          "sendBody": true,
          "specifyBody": "json",
          "jsonBody": "{\n  \"title\": true,\n  \"description\": true,\n  \"images\": false,\n  \"variants\": true,\n  \"tags\": true,\n  \"keyFeatures\": true,\n  \"shipping_template\": true\n}",
          "options": {}
        },
        "type": "n8n-nodes-base.httpRequest",
        "typeVersion": 4.2,
        "position": [
          -1088,
          368
        ],
        "id": "eeb4d91e-c199-4632-8773-f88493d1b645",
        "name": "Publish_Printify_Product",
        "retryOnFail": true,
        "waitBetweenTries": 5000,
        "alwaysOutputData": true,
        "credentials": {
          "httpHeaderAuth": {
            "id": "QyrLm1DfKVd2QbzS",
            "name": "Printify API Auth"
          }
        }
      },
      {
        "parameters": {
          "mode": "combine",
          "combineBy": "combineByPosition",
          "options": {}
        },
        "type": "n8n-nodes-base.merge",
        "typeVersion": 3.2,
        "position": [
          -2080,
          368
        ],
        "id": "a1e9d44b-dc9e-42fb-9643-dc2db69cf02b",
        "name": "Merge"
      },
      {
        "parameters": {
          "assignments": {
            "assignments": [
              {
                "id": "6f46f174-b276-433a-a2a8-d11be21fa51f",
                "name": "image_id",
                "value": "={{ $json.id }}",
                "type": "string"
              }
            ]
          },
          "options": {}
        },
        "type": "n8n-nodes-base.set",
        "typeVersion": 3.4,
        "position": [
          -2080,
          112
        ],
        "id": "257d1ab6-a21e-443e-bc33-def1502fddd3",
        "name": "Set_Image_ID"
      },
      {
        "parameters": {
          "documentId": {
            "__rl": true,
            "value": "https://docs.google.com/spreadsheets/d/17p4GRGITaLN-qIUb3YrGOZTusbqpV_mJ_brRLqS0jWA/edit?gid=0#gid=0",
            "mode": "url"
          },
          "sheetName": {
            "__rl": true,
            "value": "gid=0",
            "mode": "list",
            "cachedResultName": "Output",
            "cachedResultUrl": "https://docs.google.com/spreadsheets/d/17p4GRGITaLN-qIUb3YrGOZTusbqpV_mJ_brRLqS0jWA/edit#gid=0"
          },
          "options": {}
        },
        "type": "n8n-nodes-base.googleSheets",
        "typeVersion": 4.6,
        "position": [
          -4272,
          80
        ],
        "id": "55f20c49-b2d4-4be4-ba41-455a9f91f069",
        "name": "Get_Variant_Pricing_From_Sheet",
        "credentials": {
          "googleSheetsOAuth2Api": {
            "id": "rsPEEcMmuFCh0fvw",
            "name": "Google Sheets account 2"
          }
        }
      },
      {
        "parameters": {
          "assignments": {
            "assignments": [
              {
                "id": "ef95f814-d688-40a2-807b-65ee4b93962b",
                "name": "product_title_to_find",
                "value": "={{ $('Prepare_Printify_Product_Payload').item.json.printifyPayload.title }}",
                "type": "string"
              },
              {
                "id": "24b43e63-f731-4664-aa97-306bc09ceb41",
                "name": "session_id_tag",
                "value": "={{ $('When Executed by Another Workflow').first().json.session_id }}",
                "type": "string"
              },
              {
                "id": "2e2f8b66-3a65-4a2d-8e9b-7b924f814b82",
                "name": "curated_image_url",
                "value": "={{ $('Construct_Curated_Mockups').item.json.curatedImageUrls }}",
                "type": "string"
              }
            ]
          },
          "options": {}
        },
        "type": "n8n-nodes-base.set",
        "typeVersion": 3.4,
        "position": [
          -832,
          384
        ],
        "id": "f83ff389-3368-42f0-b25d-57d48b49e79d",
        "name": "Preserve_Product_Data"
      },
      {
        "parameters": {
          "method": "POST",
          "url": "https://j4zewh-kg.myshopify.com/admin/api/2025-04/graphql.json",
          "authentication": "genericCredentialType",
          "genericAuthType": "httpHeaderAuth",
          "sendBody": true,
          "specifyBody": "json",
          "jsonBody": "={\n  \"query\": \"query findProductByTitleAndTag($query: String!) {\\n  products(first: 1, query: $query) {\\n    edges {\\n      node {\\n        id\\n        title\\n        variants(first: 100) {\\n          edges {\\n            node {\\n              id\\n            }\\n          }\\n        }\\n      }\\n    }\\n  }\\n}\",\n  \"variables\": {\n    \"query\": \"title:'{{ $json.product_title_to_find }}' AND tag:'{{ $json.session_id_tag }}'\"\n  }\n}",
          "options": {}
        },
        "type": "n8n-nodes-base.httpRequest",
        "typeVersion": 4.2,
        "position": [
          -448,
          -80
        ],
        "id": "853a72bf-46bd-4b0f-b288-d4cf1d42cb03",
        "name": "Search_Shopify_Product_by_GraphQL",
        "credentials": {
          "httpHeaderAuth": {
            "id": "878XnnwYx10R4wXG",
            "name": "Shopify"
          }
        }
      },
      {
        "parameters": {
          "jsCode": "// This node takes the response from Printify product creation\n// and constructs a curated list of mockup URLs based on a powerful configuration map.\n\n// --- 1. CONFIGURATION: The Mockup Map ---\n// This is the \"brain\" of the operation. Add new product types here.\nconst mockupMap = {\n  // Key: blueprint_id (from your 'Map_Printify_Products' node)\n  12: { // Premium Cotton Unisex T-shirt\n    generatePerVariant: false, // Use one set of mockups for all variants\n    template_name: 'template-premium-cotton-unisex-t-shirt',\n    mockups: [\n      { id: 92584, camera_label: 'lifestyle' },\n      { id: 102044, camera_label: 'front-2' },\n      { id: 102050, camera_label: 'size-chart' }\n    ]\n  },\n  937: { // Canvas Portrait\n    generatePerVariant: true, // Generate mockups for EACH variant\n    template_name: 'template-canvas-portrait',\n    mockups: [\n      { id: 78904, camera_label: 'side' },\n      { id: 78869, camera_label: 'front' },\n      { id: 108121, camera_label: 'context-1' }\n    ]\n  },\n  635: { // Color Accent Mug\n    generatePerVariant: true, // Generate mockups for EACH variant\n    template_name: 'template-color-accent-mug',\n    mockups: [\n      { id: 102754, camera_label: 'right' },\n      { id: 102762, camera_label: 'context-2' }\n    ]\n  },\n  764: { // Premium Framed Poster - NEWLY ADDED\n    generatePerVariant: true, // Generate mockups for EACH variant (size)\n    template_name: 'template-premium-framed-poster',\n    mockups: [\n      { id: 89536, camera_label: 'front' },\n      { id: 89602, camera_label: 'context-1' }\n    ]\n  }\n  // Add other blueprints here...\n};\n\n// --- 2. LOGIC (No need to edit below here) ---\n\nconst createdProduct = $input.item.json;\n// Get the blueprint_id from the data that started this loop\nconst blueprintId = $('Prepare_Printify_Product_Payload').item.json.blueprint_id;\n\nconst config = mockupMap[blueprintId];\nif (!config) {\n  console.warn(`‚ö†Ô∏è No mockup configuration found for blueprint_id: ${blueprintId}. No curated mockups will be generated.`);\n  return [{ json: { ...createdProduct, curatedImageUrls: [] } }];\n}\n\nconst newProductId = createdProduct.id;\nconst curatedImageUrls = [];\n\nif (config.generatePerVariant) {\n  // Logic for products like mugs and canvases\n  console.log(`üöÄ Generating mockups for each variant for Blueprint ID: ${blueprintId}`);\n  for (const variant of createdProduct.variants) {\n    for (const mockup of config.mockups) {\n      const imageUrl = `https://images.printify.com/mockup/${newProductId}/${variant.id}/${mockup.id}/${config.template_name}.jpg?camera_label=${mockup.camera_label}`;\n      curatedImageUrls.push(imageUrl);\n      console.log(`‚úÖ Constructed URL for variant ${variant.id}: ${imageUrl}`);\n    }\n  }\n} else {\n  // Original logic for products like T-shirts\n  console.log(`üöÄ Generating one set of mockups for Blueprint ID: ${blueprintId}`);\n  const defaultVariant = createdProduct.variants.find(v => v.is_default);\n  if (!defaultVariant) {\n    throw new Error(`Could not find a default variant for product ${newProductId}`);\n  }\n  const referenceVariantId = defaultVariant.id;\n  for (const mockup of config.mockups) {\n    const imageUrl = `https://images.printify.com/mockup/${newProductId}/${referenceVariantId}/${mockup.id}/${config.template_name}.jpg?camera_label=${mockup.camera_label}`;\n    curatedImageUrls.push(imageUrl);\n    console.log(`‚úÖ Constructed URL: ${imageUrl}`);\n  }\n}\n\n// Pass along the original data, but add our new array of all curated mockup URLs\nreturn [{\n  json: {\n    ...createdProduct,\n    curatedImageUrls: curatedImageUrls\n  }\n}];"
        },
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          -1328,
          368
        ],
        "id": "9e4ca801-e268-4f4e-9493-ac23f01624ca",
        "name": "Construct_Curated_Mockups"
      },
      {
        "parameters": {
          "mode": "combine",
          "combineBy": "combineByPosition",
          "options": {}
        },
        "type": "n8n-nodes-base.merge",
        "typeVersion": 3.2,
        "position": [
          352,
          336
        ],
        "id": "39d2a5b0-42ce-4137-bf76-7e1b3c912d82",
        "name": "Merge1"
      },
      {
        "parameters": {
          "amount": 30
        },
        "type": "n8n-nodes-base.wait",
        "typeVersion": 1.1,
        "position": [
          -624,
          384
        ],
        "id": "9e106fe9-daa9-468b-ba11-b3a8007cb945",
        "name": "Wait",
        "webhookId": "8b58650a-9ed7-4da6-b7b1-d9fd7a49a9c5"
      },
      {
        "parameters": {
          "authentication": "headerAuth",
          "endpoint": "https://j4zewh-kg.myshopify.com/admin/api/2025-04/graphql.json",
          "query": "query findProductByTitleAndTag($query: String!) {\n  products(first: 1, query: $query) {\n    edges {\n      node {\n        id\n        title\n        variants(first: 100) {\n          edges {\n            node {\n              id\n              sku # <-- ADD THIS LINE\n            }\n          }\n        }\n      }\n    }\n  }\n}",
          "variables": "={\n  \"query\": \"title:'{{ $('Preserve_Product_Data').item.json.product_title_to_find }}' AND tag:'{{ $('Preserve_Product_Data').item.json.session_id_tag }}'\"\n}"
        },
        "type": "n8n-nodes-base.graphql",
        "typeVersion": 1.1,
        "position": [
          -208,
          192
        ],
        "id": "0707254c-b580-4d14-879a-82949ca2b9e0",
        "name": "Search Shopify Product (GraphQL)",
        "credentials": {
          "httpHeaderAuth": {
            "id": "878XnnwYx10R4wXG",
            "name": "Shopify"
          }
        }
      },
      {
        "parameters": {
          "authentication": "headerAuth",
          "endpoint": "https://j4zewh-kg.myshopify.com/admin/api/2025-04/graphql.json",
          "query": "mutation productUpdate($product: ProductUpdateInput!, $media: [CreateMediaInput!]) {\n  productUpdate(product: $product, media: $media) {\n    product {\n      id\n      media(first: 25) {\n        edges {\n          node {\n            ... on MediaImage {\n              id\n              image {\n                # --- THIS IS THE CORRECTED FIELD NAME ---\n                url\n              }\n            }\n          }\n        }\n      }\n    }\n    userErrors {\n      field\n      message\n    }\n  }\n}",
          "variables": "={{$json}}"
        },
        "type": "n8n-nodes-base.graphql",
        "typeVersion": 1.1,
        "position": [
          896,
          336
        ],
        "id": "00330710-3653-4aef-9b20-91843dcabb74",
        "name": "Upload All Media to Product",
        "credentials": {
          "httpHeaderAuth": {
            "id": "878XnnwYx10R4wXG",
            "name": "Shopify"
          }
        }
      },
      {
        "parameters": {
          "jsCode": "// Enhanced \"Prepare Variant Assignments\" for proper variant-image matching\n\nconst printifyProduct = $('Create_Printify_Product').item.json;\nconst shopifyProduct = $('Search Shopify Product (GraphQL)').item.json.data.products.edges[0]?.node;\nconst uploadResult = $input.item.json.data?.productUpdate?.product;\nconst optimizedImageUrls = $('Prepare Media Upload Variables').item.json._optimizedUrls;\nconst blueprintId = $('Prepare_Printify_Product_Payload').item.json.blueprint_id;\n\n// Create Shopify variant map\nconst shopifyVariantMap = new Map();\nshopifyProduct.variants.edges.forEach(edge => {\n  if (edge.node?.sku) {\n    shopifyVariantMap.set(edge.node.sku, edge.node.id);\n  }\n});\n\n// Create media map (uploaded images)\nconst shopifyMediaMap = new Map();\nconst uploadedMediaEdges = uploadResult.media.edges;\n\nfor (let i = 0; i < Math.min(optimizedImageUrls.length, uploadedMediaEdges.length); i++) {\n  shopifyMediaMap.set(optimizedImageUrls[i], uploadedMediaEdges[i].node.id);\n}\n\n// Enhanced variant assignment\nconst variantsUpdatePayload = [];\nconst variantSpecificProducts = [937, 635, 764];\n\nfor (const printifyVariant of printifyProduct.variants) {\n  const shopifyVariantId = shopifyVariantMap.get(printifyVariant.sku);\n  \n  if (shopifyVariantId) {\n    let assignedImages = [];\n    \n    if (variantSpecificProducts.includes(blueprintId)) {\n      // For variant-specific products, find ALL images for this variant\n      const variantImages = optimizedImageUrls.filter(url => {\n        const urlParts = url.split('/');\n        const mockupIndex = urlParts.findIndex(part => part === 'mockup');\n        const variantId = mockupIndex !== -1 ? urlParts[mockupIndex + 2] : null;\n        return variantId === String(printifyVariant.id) && shopifyMediaMap.has(url);\n      });\n      \n      if (variantImages.length > 0) {\n        // Use the primary (first priority) image for this variant\n        assignedImages = [variantImages[0]];\n        console.log(`‚úÖ Assigned variant ${printifyVariant.id}: ${variantImages.length} images available, using primary`);\n      }\n    }\n    \n    // Fallback to first available image if no variant-specific image found\n    if (assignedImages.length === 0) {\n      const fallbackImage = optimizedImageUrls.find(url => shopifyMediaMap.has(url));\n      if (fallbackImage) {\n        assignedImages = [fallbackImage];\n        console.log(`‚ö†Ô∏è Using fallback image for variant ${printifyVariant.id}`);\n      }\n    }\n    \n    // Add to payload\n    for (const imageUrl of assignedImages) {\n      const shopifyMediaId = shopifyMediaMap.get(imageUrl);\n      if (shopifyMediaId) {\n        variantsUpdatePayload.push({\n          id: shopifyVariantId,\n          mediaId: shopifyMediaId\n        });\n      }\n    }\n  }\n}\n\nconsole.log(`üìä Variant Assignment Results:`);\nconsole.log(`   Total variants processed: ${printifyProduct.variants.length}`);\nconsole.log(`   Successful assignments: ${variantsUpdatePayload.length}`);\n\nreturn {\n  json: {\n    productId: shopifyProduct.id,\n    variants: variantsUpdatePayload\n  }\n};"
        },
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          1408,
          320
        ],
        "id": "43b1867c-bb0c-46bc-beaa-999d6c361e8e",
        "name": "Prepare Variant Assignments"
      },
      {
        "parameters": {
          "authentication": "headerAuth",
          "endpoint": "https://j4zewh-kg.myshopify.com/admin/api/2025-04/graphql.json",
          "query": "mutation productVariantsBulkUpdate($productId: ID!, $variants: [ProductVariantsBulkInput!]!) {\n  productVariantsBulkUpdate(productId: $productId, variants: $variants) {\n    product {\n      id\n    }\n    productVariants {\n      id\n      title\n      image {\n        id\n        url\n      }\n    }\n    userErrors {\n      field\n      message\n    }\n  }\n}",
          "variables": "={{$json}}"
        },
        "type": "n8n-nodes-base.graphql",
        "typeVersion": 1.1,
        "position": [
          1648,
          320
        ],
        "id": "45fc19de-5863-4499-9ede-2ebf09a68290",
        "name": "Assign Images to Variants",
        "credentials": {
          "httpHeaderAuth": {
            "id": "878XnnwYx10R4wXG",
            "name": "Shopify"
          }
        }
      },
      {
        "parameters": {
          "jsCode": "// Replace the \"Prepare Media Upload Variables\" node with this FIXED version\n\nconst inputData = $input.item.json;\nconst shopifyProductNode = inputData.data.products.edges[0]?.node;\n\nif (!shopifyProductNode || !shopifyProductNode.id) {\n  const productTitle = $('Preserve_Product_Data').item.json.product_title_to_find;\n  throw new Error(`Could not find the Shopify Product with title \"${productTitle}\" after waiting.`);\n}\n\nconst shopifyProductId = shopifyProductNode.id;\nconst allCuratedImageUrls = JSON.parse(inputData.curated_image_url);\nconst blueprintId = $('Prepare_Printify_Product_Payload').item.json.blueprint_id;\n\n// --- FIXED SMART DEDUPLICATION LOGIC ---\nfunction deduplicateImageUrls(urls, blueprintId) {\n  console.log(`üîç Processing ${urls.length} URLs for blueprint ${blueprintId}`);\n  \n  // Group products by their variant requirements\n  const variantSpecificProducts = [937, 635, 764]; // Canvas, Mug, Poster\n  const generalProducts = [12]; // T-shirt\n  \n  if (variantSpecificProducts.includes(blueprintId)) {\n    return processVariantSpecificProduct(urls, blueprintId);\n  } else {\n    return processGeneralProduct(urls, blueprintId);\n  }\n}\n\nfunction processVariantSpecificProduct(urls, blueprintId) {\n  const processedUrls = [];\n  const seenCombinations = new Set();\n  \n  // For variant-specific products, we need ALL variant-mockup combinations\n  for (const url of urls) {\n    const urlAnalysis = analyzeUrl(url);\n    \n    if (urlAnalysis.isValid) {\n      const combinationKey = `${urlAnalysis.variantId}-${urlAnalysis.mockupId}`;\n      \n      // Keep EVERY unique variant-mockup combination\n      if (!seenCombinations.has(combinationKey)) {\n        seenCombinations.add(combinationKey);\n        processedUrls.push({\n          url,\n          variantId: urlAnalysis.variantId,\n          mockupId: urlAnalysis.mockupId,\n          priority: getMockupPriority(urlAnalysis.mockupId, blueprintId),\n          type: 'variant-specific'\n        });\n        \n        console.log(`‚úÖ Added variant ${urlAnalysis.variantId} mockup ${urlAnalysis.mockupId}`);\n      } else {\n        console.log(`‚ö†Ô∏è Skipping duplicate: variant ${urlAnalysis.variantId} mockup ${urlAnalysis.mockupId}`);\n      }\n    } else {\n      console.warn(`‚ùå Invalid URL structure: ${url}`);\n    }\n  }\n  \n  // Sort by variant first, then by mockup priority\n  const sortedUrls = processedUrls.sort((a, b) => {\n    if (a.variantId !== b.variantId) {\n      return parseInt(a.variantId) - parseInt(b.variantId);\n    }\n    return a.priority - b.priority;\n  });\n  \n  console.log(`üìä Variant-specific product results:`);\n  console.log(`   Total combinations found: ${processedUrls.length}`);\n  console.log(`   Expected combinations: ${getExpectedCombinations(blueprintId)}`);\n  \n  return sortedUrls.map(item => item.url);\n}\n\nfunction processGeneralProduct(urls, blueprintId) {\n  const processedUrls = [];\n  const seenMockups = new Set();\n  \n  // For general products (T-shirts), we only need unique mockup types\n  for (const url of urls) {\n    const urlAnalysis = analyzeUrl(url);\n    \n    if (urlAnalysis.isValid) {\n      if (!seenMockups.has(urlAnalysis.mockupId)) {\n        seenMockups.add(urlAnalysis.mockupId);\n        processedUrls.push({\n          url,\n          mockupId: urlAnalysis.mockupId,\n          priority: getMockupPriority(urlAnalysis.mockupId, blueprintId),\n          type: 'general'\n        });\n        \n        console.log(`‚úÖ Added general mockup ${urlAnalysis.mockupId}`);\n      }\n    }\n  }\n  \n  // Sort by priority and limit\n  const sortedUrls = processedUrls\n    .sort((a, b) => a.priority - b.priority)\n    .slice(0, 3); // Max 3 for T-shirts\n  \n  console.log(`üìä General product results: ${sortedUrls.length} mockups`);\n  \n  return sortedUrls.map(item => item.url);\n}\n\nfunction analyzeUrl(url) {\n  try {\n    const urlParts = url.split('/');\n    const mockupIndex = urlParts.findIndex(part => part === 'mockup');\n    \n    if (mockupIndex === -1 || mockupIndex + 3 >= urlParts.length) {\n      return { isValid: false };\n    }\n    \n    const variantId = urlParts[mockupIndex + 2];\n    const mockupId = urlParts[mockupIndex + 3];\n    \n    return {\n      isValid: true,\n      variantId,\n      mockupId\n    };\n  } catch (error) {\n    console.error(`Error analyzing URL: ${url}`, error);\n    return { isValid: false };\n  }\n}\n\nfunction getMockupPriority(mockupId, blueprintId) {\n  const priorities = {\n    // T-shirt priorities\n    '102044': 1, // front-2 (main)\n    '92584': 2,  // lifestyle\n    '102050': 3, // size-chart\n    \n    // Canvas priorities\n    '78869': 1,  // front (main)\n    '78904': 2,  // side\n    '108121': 3, // context-1\n    \n    // Mug priorities\n    '102754': 1, // right (main)\n    '102762': 2, // context-2\n    \n    // Poster priorities\n    '89536': 1,  // front (main)\n    '89602': 2   // context-1\n  };\n  \n  return priorities[mockupId] || 999;\n}\n\nfunction getExpectedCombinations(blueprintId) {\n  const expectations = {\n    12: 3,   // T-shirt: 3 mockup types\n    937: 6,  // Canvas: 2 variants √ó 3 mockups = 6\n    635: 8,  // Mug: 4 variants √ó 2 mockups = 8\n    764: 6   // Poster: 3 variants √ó 2 mockups = 6\n  };\n  return expectations[blueprintId] || 0;\n}\n\n// Apply the fixed deduplication\nconst optimizedImageUrls = deduplicateImageUrls(allCuratedImageUrls, blueprintId);\n\nconsole.log(`üìä FINAL Image Optimization Results:`);\nconsole.log(`   Blueprint ID: ${blueprintId}`);\nconsole.log(`   Original URLs: ${allCuratedImageUrls.length}`);\nconsole.log(`   Optimized URLs: ${optimizedImageUrls.length}`);\nconsole.log(`   Expected URLs: ${getExpectedCombinations(blueprintId)}`);\n\nif (optimizedImageUrls.length < getExpectedCombinations(blueprintId)) {\n  console.warn(`‚ö†Ô∏è WARNING: Missing images! Expected ${getExpectedCombinations(blueprintId)}, got ${optimizedImageUrls.length}`);\n  console.warn(`   This may result in missing variant assignments`);\n}\n\n// Transform into GraphQL format\nconst mediaInput = optimizedImageUrls.map(url => ({\n  originalSource: url,\n  mediaContentType: 'IMAGE'\n}));\n\nreturn {\n  json: {\n    product: {\n      id: shopifyProductId\n    },\n    media: mediaInput,\n    _optimizedUrls: optimizedImageUrls,\n    _originalUrls: allCuratedImageUrls,\n    _expectedCount: getExpectedCombinations(blueprintId),\n    _actualCount: optimizedImageUrls.length\n  }\n};"
        },
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          640,
          336
        ],
        "id": "a857ee61-c69e-44a9-be1f-9275f26ccbd4",
        "name": "Prepare Media Upload Variables"
      },
      {
        "parameters": {
          "amount": 30
        },
        "type": "n8n-nodes-base.wait",
        "typeVersion": 1.1,
        "position": [
          1168,
          336
        ],
        "id": "e4eddad7-1c84-4fda-85ea-b6bbff0bad7a",
        "name": "Wait1",
        "webhookId": "0784b6e3-bc7b-45fb-aa79-f44222407eba"
      },
      {
        "parameters": {
          "jsCode": "// In \"Split_Product_Types\" (ID: d1bb84ef-a798-4c7b-8c15-64726de190ca)\nconst items = $input.all(); // Items from \"Merge Customer With Transformations\"\nconst outputItems = [];\n\n// Customer data (item without asset_id, usually from Extract Parameters via the merge)\nconst customerDataItem = items.find(item => item.json && item.json.email && !item.json.asset_id && !item.json.public_id);\n// Image items (items with asset_id/public_id from Transformation node via the merge)\nconst imageItems = items.filter(item => item.json && (item.json.asset_id || item.json.public_id));\n\nif (!customerDataItem) {\n  console.error(\"Split_Product_Types: Customer data not found. Ensure 'Merge Customer With Transformations' is correctly merging.\");\n  return [{ json: { error: \"Customer data item not found.\" } }];\n}\nconst customerData = customerDataItem.json;\n\nif (imageItems.length === 0) {\n  console.warn(\"Split_Product_Types: No image items found to process.\");\n}\n\nimageItems.forEach(item => {\n  const imageJson = item.json; // This is the rich data from the Transformation node\n\n  // promptIndex and theme_name should now be directly available in imageJson\n  const promptIndex = imageJson.promptIndex;\n  const actualThemeName = imageJson.theme_name;\n\n  if (promptIndex === undefined || !actualThemeName) {\n    console.error(`Split_Product_Types: Missing promptIndex or theme_name for image item. Public ID: ${imageJson.public_id}. Skipping.`);\n    return; // Skip this item\n  }\n\n  // Use petname from customerData (more reliable) or fallback to imageJson if it somehow has it\n  const petName = customerData.petname || imageJson.petname || \"Pet\";\n  const petKind = customerData.petkind || imageJson.petkind || \"Pet\";\n  const petGender = $input.first().json.petGender|| imageJson.petgender || \"Pet\";\n  const sessionId = customerData.session_id || imageJson.session_id || Date.now().toString().slice(-8);\n\n  const baseHandle = `${petName.toLowerCase().replace(/\\s+/g, '-')}-${actualThemeName.toLowerCase().replace(/[^a-z0-9-]+/g, '').replace(/\\s+/g, '-')}`;\n  const sessionSuffix = sessionId.slice(-8);\n  const uniqueHandle = `${baseHandle}-${sessionSuffix}`;\n\n  // Use spread operator to preserve original field order, then override specific fields\n  outputItems.push({\n    json: {\n      // Start with customer data\n      session_id: sessionId,\n      email: customerData.email || imageJson.email,\n      petname: petName,\n      petGender: petGender,\n      petKind: customerData.petKind || imageJson.petKind,\n      customer_name: customerData.customer_name || imageJson.customer_name,\n      \n      // Include all cloudinary data (preserves original order)\n      ...imageJson,\n      \n      // Override/ensure these specific fields are set correctly\n      promptIndex: promptIndex,\n      collection_name: `${petName} ${actualThemeName}`,\n      collection_handle: uniqueHandle,\n      theme_name: actualThemeName,\n      collection_image_url: imageJson.original_url // Use original URL for collection image\n    }\n  });\n});\n\nreturn outputItems;"
        },
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          -4384,
          352
        ],
        "id": "653783cd-aa4c-4405-bd87-86ccb9f28a9e",
        "name": "Split_Product_Types1"
      },
      {
        "parameters": {
          "method": "POST",
          "url": "https://j4zewh-kg.myshopify.com/admin/api/2025-04/custom_collections.json",
          "authentication": "genericCredentialType",
          "genericAuthType": "httpHeaderAuth",
          "sendHeaders": true,
          "headerParameters": {
            "parameters": [
              {
                "name": "Content-Type",
                "value": "application/json"
              }
            ]
          },
          "sendBody": true,
          "specifyBody": "json",
          "jsonBody": "={\n  \"custom_collection\": {\n    \"title\": \"{{ $json.collection_name }}\",\n    \"handle\": \"{{ $json.collection_handle }}\",\n    \"body_html\": \"<p>Custom {{ $json.theme_name }} artwork featuring {{ $json.petname }}. High-quality, frame-worthy art available on various products.</p><p>Created for {{ $json.customer_name }} ({{ $json.email }})</p>\",\n    \"published\": true,\n    \"image\": {\n      \"src\": \"{{ $json.transformations.watermark }}\",\n      \"alt\": \"{{ $json.petname }} {{ $json.theme_name }} Artwork\"\n    },\n    \"metafields\": [\n      {\n        \"namespace\": \"custom\",\n        \"key\": \"session_id\",\n        \"value\": \"{{ $json.session_id }}\",\n        \"type\": \"single_line_text_field\"\n      },\n      {\n        \"namespace\": \"custom\",\n        \"key\": \"customer_email\",\n        \"value\": \"{{ $json.email }}\",\n        \"type\": \"single_line_text_field\"\n      },\n      {\n        \"namespace\": \"custom\",\n        \"key\": \"prompt_index\",\n        \"value\": \"{{ $json.promptIndex }}\",\n        \"type\": \"number_integer\"\n      },\n      {\n        \"namespace\": \"custom\",\n        \"key\": \"pet_name\",\n        \"value\": \"{{ $json.petname }}\",\n        \"type\": \"single_line_text_field\"\n      },\n      {\n        \"namespace\": \"custom\",\n        \"key\": \"theme_name\",\n        \"value\": \"{{ $json.theme_name }}\",\n        \"type\": \"single_line_text_field\"\n      },\n     {\n          \"namespace\": \"custom\",\n          \"key\": \"pet_kind\",                       \n          \"value\": \"{{ $json.petKind }}\",\n          \"type\": \"single_line_text_field\"\n     },\n      {\n        \"namespace\": \"custom\",\n        \"key\": \"clothing_url\",\n        \"value\": \"{{ $json.clothing_url }}\",\n        \"type\": \"single_line_text_field\"\n      },\n      {\n        \"namespace\": \"custom\",\n        \"key\": \"other_url\",\n        \"value\": \"{{ $json.other_url }}\",\n        \"type\": \"single_line_text_field\"\n      }\n    ]\n  }\n}",
          "options": {
            "response": {
              "response": {
                "responseFormat": "json"
              }
            }
          }
        },
        "type": "n8n-nodes-base.httpRequest",
        "typeVersion": 4.2,
        "position": [
          -4064,
          368
        ],
        "id": "5d39177c-4f1b-48a4-82b5-09af21e1594f",
        "name": "Create_shopify_collection",
        "retryOnFail": true,
        "maxTries": 3,
        "waitBetweenTries": 5000,
        "credentials": {
          "httpHeaderAuth": {
            "id": "878XnnwYx10R4wXG",
            "name": "Shopify"
          }
        }
      },
      {
        "parameters": {
          "jsCode": "const items = $input.all();\nconst outputItems = [];\n\n// Define your Printify products\nconst printifyProducts = {\n  \"clothing\": [\n    { \n      blueprint_id: 12, \n      print_provider_id: 331, \n      name: \"Premium Cotton Unisex T-shirt\",\n      variant_id:[18539,18540,18541,18542,18543,18544],\n      product_type: \"clothing\"\n    }\n    //black variants 18099,18100,18101,18102,18103,18104,\n  ],\n  \"other\": [\n    { \n      blueprint_id: 635, \n      print_provider_id: 94, \n      name: \"Color Accent Mug\",\n      variant_id:[72180,72183,72184,105888],\n      product_type: \"other\"\n    },\n    // { \n    //   blueprint_id: 421, \n    //   print_provider_id: 23, \n    //   name: \"Tough Phone Case - iPhone, Samsung, Google\",\n    //   variant_id:[75383,75385,75387,75389,77841,77843,77845,79425,80152,80154,80156,96397,96399,96401,96403,96738,96740,96742,98738,102547,102549,102551,102553,105148,105150,105152,105154,105156,112191,112193,112195,112197,116386,116388,116390,117862,117864,117866],\n    //   product_type: \"other\"\n    // },\n    // { \n    //   blueprint_id: 421, \n    //   print_provider_id: 23, \n    //   name: \"Tough Phone Case - iPhone\",\n    //   variant_id:[75383,75385,75387,75389,96397,96399,96401,96403,102547,102549,102551,102553,112191,112193,112195,112197],\n    //   product_type: \"other\"\n    // },\n    // { \n    //   blueprint_id: 421, \n    //   print_provider_id: 23, \n    //   name: \"Tough Phone Case - Samsung\",\n    //   variant_id:[77841,77843,77845,79425,80152,80154,80156,96738,96740,96742,105148,105150,105152,117862,117864,117866],\n    //   product_type: \"other\"\n    // },\n    { \n      blueprint_id: 764, \n      print_provider_id: 72, \n      name: \"Premium Framed Poster\",\n      variant_id:[75328,75330,75332],\n      product_type: \"other\"\n    },\n    { \n      blueprint_id: 937, \n      print_provider_id: 105, \n      name: \"Canvas Portrait\",\n      variant_id: [95213,95214], \n      product_type: \"other\"\n    }    \n  ]\n};\n\n// Get source data from Split_Product_Types node\nconst allSourceData = $('Split_Product_Types1').all();\n\n// Cloudinary config\nconst cloudName = 'myfurryprints';\nconst maskId = 'Mask3larger_jpm63l';\nconst CLOTHING_TX = `e_upscale/c_scale,w_4000/l_${maskId},w_4000,fl_cutter`;\nconst OTHER_TX = `e_upscale/c_scale,w_4000`;\n\n// Helper to build the Cloudinary URL based on product type\nfunction buildImageUrl(productType, publicId) {\n  const base = `https://res.cloudinary.com/${cloudName}/image/upload`;\n  return productType === 'clothing'\n    ? `${base}/${CLOTHING_TX}/${publicId}`\n    : `${base}/${OTHER_TX}/${publicId}`;\n}\n\n// Main loop\nitems.forEach(item => {\n  const collection = item.json.custom_collection;\n\n  const sourceDataItem = allSourceData.find(\n    sourceItem => sourceItem.json.collection_name === collection.title\n  );\n\n  if (!collection || !sourceDataItem) return; // skip if either is missing\n\n  const sourceData = sourceDataItem.json;\n  const publicId = sourceData.public_id;\n\n  // Combine clothing and other products into one loop\n  const allProducts = [...printifyProducts.clothing, ...printifyProducts.other];\n\n  allProducts.forEach(product => {\n    const imageUrl = buildImageUrl(product.product_type, publicId);\n\n    outputItems.push({\n      json: {\n        session_id:            sourceData.session_id,\n        email:                 sourceData.email,\n        petname:               sourceData.petname,\n        customer_name:         sourceData.customer_name,\n        promptIndex:           sourceData.promptIndex,\n        theme_name:            sourceData.theme_name,\n        shopify_collection_id: collection.id,\n\n        product_type:          product.product_type,\n        image_url:             imageUrl,\n        blueprint_id:          product.blueprint_id,\n        print_provider_id:     product.print_provider_id,\n        product_title:         `${sourceData.theme_name} - ${product.name}`,\n        template_name:         product.name,\n        required_variant_ids:  product.variant_id \n      }\n    });\n\n    console.log(`‚úÖ Created ${product.product_type} product with URL: ${imageUrl}`);\n  });\n});\n\nreturn outputItems;"
        },
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          -3712,
          640
        ],
        "id": "dfe72781-43e9-4bcc-ac73-362443ef6bc6",
        "name": "Map_Printify_Products1"
      }
    ],
    "connections": {
      "When Executed by Another Workflow": {
        "main": [
          [
            {
              "node": "Get_Variant_Pricing_From_Sheet",
              "type": "main",
              "index": 0
            },
            {
              "node": "Split_Product_Types1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Extract Collection Data": {
        "main": [
          [
            {
              "node": "Loop Product Templates",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Loop Product Templates": {
        "main": [
          [],
          [
            {
              "node": "Upload_Image_To_Printify",
              "type": "main",
              "index": 0
            },
            {
              "node": "Get_Print_Provider_Variants",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Upload_Image_To_Printify": {
        "main": [
          [
            {
              "node": "Set_Image_ID",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Get_Print_Provider_Variants": {
        "main": [
          [
            {
              "node": "Merge",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Prepare_Printify_Product_Payload": {
        "main": [
          [
            {
              "node": "Create_Printify_Product",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Create_Printify_Product": {
        "main": [
          [
            {
              "node": "Construct_Curated_Mockups",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Publish_Printify_Product": {
        "main": [
          [
            {
              "node": "Preserve_Product_Data",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Merge": {
        "main": [
          [
            {
              "node": "Prepare_Printify_Product_Payload",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Set_Image_ID": {
        "main": [
          [
            {
              "node": "Merge",
              "type": "main",
              "index": 1
            }
          ]
        ]
      },
      "Preserve_Product_Data": {
        "main": [
          [
            {
              "node": "Merge1",
              "type": "main",
              "index": 1
            },
            {
              "node": "Wait",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Construct_Curated_Mockups": {
        "main": [
          [
            {
              "node": "Publish_Printify_Product",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Merge1": {
        "main": [
          [
            {
              "node": "Prepare Media Upload Variables",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Wait": {
        "main": [
          [
            {
              "node": "Search Shopify Product (GraphQL)",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Search Shopify Product (GraphQL)": {
        "main": [
          [
            {
              "node": "Merge1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Upload All Media to Product": {
        "main": [
          [
            {
              "node": "Wait1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Prepare Variant Assignments": {
        "main": [
          [
            {
              "node": "Assign Images to Variants",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Assign Images to Variants": {
        "main": [
          [
            {
              "node": "Loop Product Templates",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Prepare Media Upload Variables": {
        "main": [
          [
            {
              "node": "Upload All Media to Product",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Wait1": {
        "main": [
          [
            {
              "node": "Prepare Variant Assignments",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Split_Product_Types1": {
        "main": [
          [
            {
              "node": "Create_shopify_collection",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Create_shopify_collection": {
        "main": [
          [
            {
              "node": "Map_Printify_Products1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Map_Printify_Products1": {
        "main": [
          [
            {
              "node": "Extract Collection Data",
              "type": "main",
              "index": 0
            }
          ]
        ]
      }
    },
    "authors": "system migration",
    "name": null,
    "description": null,
    "workflowPublishHistory": [
      {
        "createdAt": "2025-08-26T07:51:21.894Z",
        "id": 65,
        "workflowId": "iccc2jy75anpcthr",
        "versionId": "a4981b92-ce59-4c0d-9ae0-a0756de89dab",
        "event": "activated",
        "userId": null
      }
    ]
  }
}